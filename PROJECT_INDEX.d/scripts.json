{"module_id":"scripts","version":"2.2-submodules","modified":"2025-11-12T11:55:07.348094","files":{"scripts/benchmark.py":{"language":"python","functions":[{"name":"load_benchmark_projects","line":71,"signature":"() -> List[Dict[str, Any]]","calls":[],"doc":"Load benchmark projects from docs/benchmark-projects.json"},{"name":"clone_or_use_project","line":85,"signature":"(project: Dict[str, Any], temp_dir: Path) -> Path","calls":[],"doc":""},{"name":"measure_full_generation","line":101,"signature":"(project_path: Path, runs: int = 3) -> List[float]","calls":[],"doc":""},{"name":"measure_incremental_update","line":143,"signature":"(project_path: Path, full_time: float) -> Tuple[float, float]","calls":[],"doc":""},{"name":"measure_mcp_latency","line":181,"signature":"(project_path: Path) -> Dict[str, Tuple[float, int]]","calls":[],"doc":""},{"name":"measure_memory_usage","line":252,"signature":"(project_path: Path) -> Optional[float]","calls":[],"doc":""},{"name":"run_performance_benchmark","line":296,"signature":"(project: Dict[str, Any], temp_dir: Path) -> PerformanceMetrics","calls":["clone_or_use_project","measure_full_generation","measure_incremental_update","measure_memory_usage"],"doc":""},{"name":"save_metrics_json","line":360,"signature":"(all_metrics: List[PerformanceMetrics], output_path: Path)","calls":[],"doc":"Save performance metrics to JSON file"},{"name":"generate_performance_report","line":374,"signature":"(all_metrics: List[PerformanceMetrics], output_path: Path)","calls":[],"doc":"Generate human-readable performance report in Markdown"},{"name":"main","line":542,"signature":"()","calls":["generate_performance_report","load_benchmark_projects","run_performance_benchmark","save_metrics_json"],"doc":"Main benchmark execution"}],"classes":[{"name":"PerformanceMetrics","line":40,"bases":[],"methods":[],"doc":"Schema for performance metrics"}],"imports":["json","os","subprocess","sys","time","statistics","tempfile","shutil","pathlib","typing","dataclasses","psutil"]},"scripts/doc_classifier.py":{"language":"python","functions":[{"name":"classify_documentation","line":47,"signature":"(file_path: Path, config: Optional[Dict] = None) -> str","calls":["classify_documentation"],"doc":""}],"classes":[],"imports":["pathlib","typing"]},"scripts/find_python.sh":{"language":"shell","functions":[],"classes":[],"imports":[]},"scripts/git_metadata.py":{"language":"python","functions":[{"name":"extract_git_metadata","line":22,"signature":"(file_path: Path, root_path: Path, cache: Optional[Dict] = None) -> Dict","calls":["_extract_from_git","extract_git_metadata"],"doc":""},{"name":"_extract_from_git","line":77,"signature":"(file_path: Path, root_path: Path) -> Dict","calls":["_calculate_recency_days","_extract_lines_changed","_extract_pr_number","_fallback_to_mtime"],"doc":""},{"name":"_extract_pr_number","line":141,"signature":"(commit_message: str) -> Optional[str]","calls":["_extract_pr_number"],"doc":""},{"name":"_extract_lines_changed","line":177,"signature":"(file_path: Path, root_path: Path, commit_hash: str) -> Optional[int]","calls":[],"doc":""},{"name":"_calculate_recency_days","line":245,"signature":"(date_str: str) -> int","calls":[],"doc":""},{"name":"_fallback_to_mtime","line":276,"signature":"(file_path: Path) -> Dict","calls":["_calculate_recency_days"],"doc":""}],"classes":[],"imports":["re","subprocess","datetime","pathlib","typing"]},"scripts/i_flag_hook.py":{"language":"python","functions":[{"name":"find_project_root","line":23,"signature":"()","calls":[],"doc":"Find project root by looking for .git or common project markers."},{"name":"get_last_interactive_size","line":45,"signature":"()","calls":["find_project_root"],"doc":"Get the last remembered -i size from the index."},{"name":"parse_index_flag","line":66,"signature":"(prompt)","calls":["get_last_interactive_size"],"doc":"Parse -i or -ic flag with optional size."},{"name":"calculate_files_hash","line":104,"signature":"(project_root)","calls":[],"doc":"Calculate hash of non-ignored files to detect changes."},{"name":"should_regenerate_index","line":141,"signature":"(project_root, index_path, requested_size_k)","calls":["calculate_files_hash"],"doc":"Determine if index needs regeneration."},{"name":"generate_index_at_size","line":173,"signature":"(project_root, target_size_k, is_clipboard_mode=False)","calls":["calculate_files_hash"],"doc":"Generate index at specific token size."},{"name":"copy_to_clipboard","line":259,"signature":"(prompt, index_path)","calls":[],"doc":"Copy prompt, instructions, and index to clipboard for external AI."},{"name":"main","line":566,"signature":"()","calls":["copy_to_clipboard","find_project_root","generate_index_at_size","parse_index_flag","should_regenerate_index"],"doc":"Process UserPromptSubmit hook for -i and -ic flag detection."}],"classes":[],"imports":["json","sys","os","re","subprocess","hashlib","time","pathlib","datetime","sys","vm_client_network","vm_client","base64","pyperclip"]},"scripts/impact.py":{"language":"python","functions":[{"name":"build_reverse_call_graph","line":24,"signature":"(call_graph: List[List[str]]) -> Dict[str, List[str]]","calls":["build_reverse_call_graph"],"doc":""},{"name":"analyze_impact","line":65,"signature":"(function_name: str, call_graph: List[List[str]], max_depth: int = 10) -> Dict[str, Any]","calls":["analyze_impact","build_reverse_call_graph"],"doc":""},{"name":"map_functions_to_paths","line":172,"signature":"(functions: List[str], index_data: Dict[str, Any]) -> Dict[str, Tuple[str, Optional[int]]]","calls":["map_functions_to_paths"],"doc":""},{"name":"format_impact_report","line":234,"signature":"(impact_result: Dict[str, Any], index_data: Optional[Dict[str, Any]] = None) -> str","calls":["analyze_impact","map_functions_to_paths"],"doc":""},{"name":"load_call_graph_from_index","line":301,"signature":"(index_path: Optional[Path] = None) -> List[List[str]]","calls":[],"doc":""}],"classes":[],"imports":["scripts.impact","collections","typing","json","pathlib","sys","pathlib","loader"]},"scripts/incremental.py":{"language":"python","functions":[{"name":"detect_changed_files","line":29,"signature":"(timestamp: str, project_root: Path, verbose: bool = False) -> List[str]","calls":[],"doc":""},{"name":"identify_affected_modules","line":131,"signature":"(changed_files: List[str], core_index: Dict, detail_modules: Optional[Dict[str, Dict]] = None, verbose: bool = False) -> Set[str]","calls":["build_dependency_graph"],"doc":""},{"name":"build_dependency_graph","line":213,"signature":"(core_index: Dict, detail_modules: Dict[str, Dict]) -> Dict[str, Set[str]]","calls":[],"doc":""},{"name":"compute_module_hash","line":247,"signature":"(module_path: Path) -> str","calls":[],"doc":""},{"name":"validate_index_integrity","line":274,"signature":"(core_index: Dict, module_dir: Path, verbose: bool = False) -> bool","calls":["compute_module_hash"],"doc":""},{"name":"regenerate_affected_modules","line":325,"signature":"(affected_modules: Set[str], core_index: Dict, project_root: Path, module_dir: Path, verbose: bool = False) -> Dict[str, str]","calls":["compute_module_hash"],"doc":""},{"name":"incremental_update","line":467,"signature":"(index_path: Path, project_root: Path, verbose: bool = False) -> Tuple[str, List[str]]","calls":["detect_changed_files","identify_affected_modules","regenerate_affected_modules","validate_index_integrity"],"doc":""}],"classes":[],"imports":["hashlib","json","subprocess","collections","datetime","pathlib","typing","index_utils","index_utils","git_metadata","time","loader"]},"scripts/index_utils.py":{"language":"python","functions":[{"name":"extract_function_calls_python","line":75,"signature":"(body: str, all_functions: Set[str]) -> List[str]","calls":[],"doc":"Extract function calls from Python code body."},{"name":"extract_function_calls_javascript","line":105,"signature":"(body: str, all_functions: Set[str]) -> List[str]","calls":[],"doc":"Extract function calls from JavaScript/TypeScript code body."},{"name":"build_call_graph","line":133,"signature":"(functions: Dict, classes: Dict) -> Tuple[Dict, Dict]","calls":[],"doc":"Build bidirectional call graph from extracted functions and methods."},{"name":"extract_python_signatures","line":162,"signature":"(content: str) -> Dict[str, Dict]","calls":["extract_function_calls_python"],"doc":"Extract Python function and class signatures with full details for all files."},{"name":"extract_javascript_signatures","line":546,"signature":"(content: str) -> Dict[str, any]","calls":["extract_function_calls_javascript","pos_to_line"],"doc":"Extract JavaScript/TypeScript function and class signatures with full details."},{"name":"extract_function_calls_shell","line":907,"signature":"(body: str, all_functions: Set[str]) -> List[str]","calls":[],"doc":"Extract function calls from shell script body."},{"name":"extract_shell_signatures","line":929,"signature":"(content: str) -> Dict[str, any]","calls":["extract_function_calls_shell"],"doc":"Extract shell script function signatures and structure."},{"name":"extract_vue_signatures","line":1187,"signature":"(content: str) -> Dict[str, any]","calls":["extract_javascript_signatures","extract_options_api_methods"],"doc":""},{"name":"extract_options_api_methods","line":1285,"signature":"(script_content: str, all_functions: Set[str]) -> Dict[str, Dict]","calls":["extract_function_calls_javascript","extract_methods_from_block","extract_object_content"],"doc":""},{"name":"extract_markdown_structure","line":1485,"signature":"(file_path: Path) -> Dict[str, List[str]]","calls":[],"doc":"Extract headers and architectural hints from markdown files."},{"name":"infer_file_purpose","line":1516,"signature":"(file_path: Path) -> Optional[str]","calls":[],"doc":"Infer the purpose of a file from its name and location."},{"name":"infer_directory_purpose","line":1539,"signature":"(path: Path, files_within: List[str]) -> Optional[str]","calls":[],"doc":"Infer directory purpose from naming patterns and contents."},{"name":"extract_lightweight_signature","line":1569,"signature":"(func_data: Dict, func_name: str) -> str","calls":[],"doc":""},{"name":"get_language_name","line":1587,"signature":"(extension: str) -> str","calls":[],"doc":"Get readable language name from extension."},{"name":"parse_gitignore","line":1598,"signature":"(gitignore_path: Path) -> List[str]","calls":[],"doc":"Parse a .gitignore file and return list of patterns."},{"name":"load_gitignore_patterns","line":1618,"signature":"(root_path: Path) -> Set[str]","calls":["parse_gitignore"],"doc":"Load all gitignore patterns from project root and merge with defaults."},{"name":"matches_gitignore_pattern","line":1641,"signature":"(path: Path, patterns: Set[str], root_path: Path) -> bool","calls":[],"doc":"Check if a path matches any gitignore pattern."},{"name":"should_index_file","line":1685,"signature":"(path: Path, root_path: Path = None) -> bool","calls":["load_gitignore_patterns","matches_gitignore_pattern"],"doc":"Check if we should index this file."},{"name":"get_git_files","line":1705,"signature":"(root_path: Path) -> Optional[List[Path]]","calls":[],"doc":""}],"classes":[],"imports":["re","fnmatch","pathlib","typing","subprocess"]},"scripts/loader.py":{"language":"python","functions":[{"name":"load_detail_module","line":20,"signature":"(module_name: str, index_dir: Optional[Path] = None) -> Dict","calls":["load_detail_module"],"doc":""},{"name":"find_module_for_file","line":108,"signature":"(file_path: str, core_index: Dict) -> str","calls":["find_module_for_file"],"doc":""},{"name":"load_detail_by_path","line":217,"signature":"(file_path: str, core_index: Dict, index_dir: Optional[Path] = None) -> Dict","calls":["find_module_for_file","load_detail_by_path","load_detail_module"],"doc":""},{"name":"load_multiple_modules","line":254,"signature":"(module_names: List[str], index_dir: Optional[Path] = None) -> Dict[str, Dict]","calls":["load_detail_module","load_multiple_modules"],"doc":""},{"name":"load_doc_tier","line":324,"signature":"(tier: str, module_name: Optional[str] = None, index_dir: Optional[Path] = None) -> Dict[str, Dict]","calls":["load_detail_module","load_doc_tier"],"doc":""}],"classes":[],"imports":["pathlib","typing","json","logging","warnings"]},"scripts/mcp_detector.py":{"language":"python","functions":[{"name":"detect_mcp_tools","line":24,"signature":"() -> Dict[str, bool]","calls":["_is_claude_code_environment","detect_mcp_tools"],"doc":""},{"name":"_is_claude_code_environment","line":104,"signature":"() -> bool","calls":[],"doc":""},{"name":"get_cached_capabilities","line":150,"signature":"() -> Optional[Dict[str, bool]]","calls":["detect_mcp_tools","get_cached_capabilities"],"doc":""},{"name":"reset_detection_cache","line":166,"signature":"() -> None","calls":["detect_mcp_tools","reset_detection_cache"],"doc":""}],"classes":[],"imports":["typing","sys","os"]},"scripts/project_index.py":{"language":"python","functions":[{"name":"read_version_file","line":49,"signature":"() -> str","calls":["read_version_file"],"doc":""},{"name":"compare_versions","line":86,"signature":"(v1: str, v2: str) -> int","calls":["compare_versions","normalize"],"doc":""},{"name":"log_update_check","line":131,"signature":"(result: str, current_version: str, latest_version: str = None, error: str = None) -> None","calls":["log_update_check"],"doc":""},{"name":"check_version_compatibility","line":166,"signature":"(index_data: Dict) -> Optional[str]","calls":["check_version_compatibility","extract_major_minor","read_version_file"],"doc":""},{"name":"check_for_updates","line":215,"signature":"(no_update_check: bool = False) -> Optional[UpdateInfo]","calls":["check_for_updates","compare_versions","log_update_check","read_version_file"],"doc":""},{"name":"detect_index_format","line":291,"signature":"(index_path: Path = None) -> str","calls":[],"doc":""},{"name":"load_configuration","line":329,"signature":"(config_path: Optional[Path] = None, project_root: Optional[Path] = None) -> Dict[str, any]","calls":["_check_cli_flags","auto_detect_preset","detect_preset_from_config","load_preset_template","main"],"doc":""},{"name":"generate_tree_structure","line":577,"signature":"(root_path: Path, max_depth: int = MAX_TREE_DEPTH) -> List[str]","calls":["add_tree_level","should_include_dir"],"doc":"Generate a compact ASCII tree representation of the directory structure."},{"name":"generate_split_index","line":646,"signature":"(root_dir: str, config: Optional[Dict] = None) -> Tuple[Dict, int]","calls":["apply_framework_preset","build_file_to_module_map","create_module_references","detect_framework_patterns","detect_large_modules","generate_detail_modules","generate_tree_structure","generate_warnings","get_submodule_config","organize_into_modules","split_module_recursive"],"doc":""},{"name":"generate_detail_modules","line":1058,"signature":"(files_data: Dict[str, Dict], modules: Dict[str, List[str]], root_path: Path, skip_details: bool = False, markdown_files_by_tier: Optional[Dict[str, List[Dict]]] = None) -> List[str]","calls":[],"doc":""},{"name":"build_index","line":1247,"signature":"(root_dir: str, config: Optional[Dict] = None) -> Tuple[Dict, int]","calls":["generate_tree_structure"],"doc":"Build the enhanced index with architectural awareness (legacy single-file format)."},{"name":"convert_to_enhanced_dense_format","line":1557,"signature":"(index: Dict) -> Dict","calls":["truncate_doc"],"doc":"Convert to enhanced dense format that preserves all AI-relevant information."},{"name":"compress_if_needed","line":1682,"signature":"(dense_index: Dict, target_size: int = MAX_INDEX_SIZE) -> Dict","calls":[],"doc":"Compress dense index further if it exceeds size limit."},{"name":"get_submodule_config","line":1813,"signature":"(config: Optional[Dict]) -> Dict[str, any]","calls":[],"doc":""},{"name":"analyze_directory_structure","line":1845,"signature":"(module_path: Path, root_path: Path) -> Dict[str, any]","calls":[],"doc":""},{"name":"detect_large_modules","line":1915,"signature":"(modules: Dict[str, List[str]], threshold: int, root_path: Path, config: Optional[Dict] = None) -> List[Dict[str, any]]","calls":["analyze_directory_structure","get_submodule_config"],"doc":""},{"name":"detect_framework_patterns","line":1966,"signature":"(root_path: Path) -> str","calls":[],"doc":""},{"name":"auto_detect_preset","line":2019,"signature":"(file_count: int) -> str","calls":[],"doc":""},{"name":"load_preset_template","line":2040,"signature":"(preset_name: str) -> Dict[str, any]","calls":[],"doc":""},{"name":"detect_preset_from_config","line":2084,"signature":"(config: Dict) -> str","calls":[],"doc":""},{"name":"_check_cli_flags","line":2113,"signature":"() -> Dict[str, any]","calls":[],"doc":""},{"name":"apply_framework_preset","line":2138,"signature":"(framework_type: str, config: Optional[Dict] = None) -> Dict[str, any]","calls":[],"doc":""},{"name":"generate_submodule_name","line":2223,"signature":"(parent: str, child: str, grandchild: Optional[str] = None) -> str","calls":["generate_submodule_name"],"doc":""},{"name":"split_module_recursive","line":2260,"signature":"(module_id: str, file_list: List[str], root_path: Path, max_depth: int, current_depth: int = 0, config: Optional[Dict] = None) -> Dict[str, List[str]]","calls":["generate_submodule_name","get_submodule_config","split_module_recursive"],"doc":""},{"name":"build_file_to_module_map","line":2412,"signature":"(modules: Dict[str, List[str]]) -> Dict[str, str]","calls":[],"doc":""},{"name":"organize_into_modules","line":2454,"signature":"(files: List[Path], root_path: Path, depth: int = 1) -> Dict[str, List[str]]","calls":[],"doc":""},{"name":"create_module_references","line":2492,"signature":"(modules: Dict[str, List[str]], functions: Dict[str, Dict]) -> Dict[str, Dict]","calls":[],"doc":""},{"name":"print_summary","line":2528,"signature":"(index: Dict, skipped_count: int)","calls":[],"doc":"Print a helpful summary of what was indexed."},{"name":"create_backup","line":2576,"signature":"(index_path: Path) -> Path","calls":[],"doc":""},{"name":"extract_legacy_data","line":2603,"signature":"(index_path: Path) -> Dict","calls":[],"doc":""},{"name":"validate_migration_integrity","line":2628,"signature":"(legacy_index: Dict, core_index: Dict, detail_modules: Dict[str, Dict]) -> bool","calls":[],"doc":""},{"name":"rollback_migration","line":2724,"signature":"(backup_path: Path, index_path: Path, detail_dir: Path)","calls":[],"doc":""},{"name":"migrate_to_split_format","line":2754,"signature":"(root_dir: str = '.', dry_run: bool = False) -> bool","calls":["create_backup","detect_index_format","extract_legacy_data","generate_split_index","load_configuration","rollback_migration","validate_migration_integrity"],"doc":""},{"name":"generate_warnings","line":2970,"signature":"(modules: Dict[str, List[str]], framework_type: str, config: Optional[Dict] = None) -> List[str]","calls":["get_submodule_config"],"doc":""},{"name":"analyze_module_structure","line":3023,"signature":"(root_path: Path, config: Optional[Dict] = None) -> None","calls":["apply_framework_preset","detect_framework_patterns","detect_large_modules","get_submodule_config","organize_into_modules","split_module_recursive"],"doc":""},{"name":"create_default_config","line":3139,"signature":"(root_path: Path) -> None","calls":["apply_framework_preset","detect_framework_patterns"],"doc":""},{"name":"main","line":3188,"signature":"() -> None","calls":[],"doc":""}],"classes":[{"name":"UpdateInfo","line":78,"bases":[],"methods":[],"doc":"Information about available updates."}],"imports":["json","os","re","shutil","subprocess","sys","datetime","pathlib","typing","urllib.request","urllib.error","socket","index_utils","doc_classifier","git_metadata","index_utils","logging","logging","index_utils","logging","logging","logging","datetime","pathlib","json","logging","logging","logging","shutil","datetime","hashlib","shutil","shutil","datetime","logging","logging","argparse","sys","logging","incremental"]},"scripts/relevance.py":{"language":"python","functions":[{"name":"filter_files_by_recency","line":25,"signature":"(files: List[str], days: int, git_metadata: Dict[str, Any]) -> List[str]","calls":["filter_files_by_recency"],"doc":""}],"classes":[{"name":"RelevanceScorer","line":83,"bases":[],"methods":[{"name":"__init__","line":136,"signature":"(self, config: Optional[Dict[str, Any]] = None)","calls":[],"doc":""},{"name":"_parse_module_name","line":171,"signature":"(self, module_id: str) -> Dict[str, str]","calls":["_parse_module_name"],"doc":""},{"name":"_detect_module_type","line":213,"signature":"(self, module_id: str) -> str","calls":["_detect_module_type","_parse_module_name"],"doc":""},{"name":"_boost_by_keywords","line":275,"signature":"(self, base_score: float, module_id: str, query_text: str) -> float","calls":["_boost_by_keywords","_detect_module_type"],"doc":""},{"name":"score_module","line":327,"signature":"(self, module: Dict[str, Any], query: Dict[str, Any], git_metadata: Dict[str, Any]) -> float","calls":["score_module"],"doc":""},{"name":"score_all_modules","line":400,"signature":"(self, modules: Dict[str, Dict[str, Any]], query: Dict[str, Any], git_metadata: Dict[str, Any]) -> List[tuple[str, float]]","calls":["_boost_by_keywords","score_all_modules","score_module"],"doc":""}],"doc":""}],"imports":["pathlib","typing","json"]},"scripts/stop_hook.py":{"language":"python","functions":[{"name":"main","line":14,"signature":"()","calls":[],"doc":"Stop hook - regenerate index if PROJECT_INDEX.json exists."}],"classes":[],"imports":["json","sys","os","subprocess","pathlib"]},"scripts/test_backward_compat.py":{"language":"python","functions":[],"classes":[{"name":"TestDetectIndexFormat","line":17,"bases":[],"methods":[{"name":"setUp","line":20,"signature":"(self)","calls":[],"doc":"Create temporary directory for test files."},{"name":"tearDown","line":26,"signature":"(self)","calls":[],"doc":"Clean up temporary directory."},{"name":"test_legacy_format_no_directory","line":31,"signature":"(self)","calls":[],"doc":"Test detection of legacy format when PROJECT_INDEX.d/ doesn't exist."},{"name":"test_split_format_with_directory_and_version","line":47,"signature":"(self)","calls":[],"doc":"Test detection of split format when both directory and version present."},{"name":"test_legacy_format_with_old_version","line":68,"signature":"(self)","calls":[],"doc":"Test legacy detection when version is 1.0."},{"name":"test_legacy_format_missing_version_field","line":86,"signature":"(self)","calls":[],"doc":"Test legacy detection when version field is missing."},{"name":"test_legacy_format_empty_index_file","line":103,"signature":"(self)","calls":[],"doc":"Test legacy detection with empty/corrupted index file."},{"name":"test_legacy_format_corrupted_json","line":112,"signature":"(self)","calls":[],"doc":"Test legacy detection with corrupted JSON."},{"name":"test_legacy_format_index_file_not_exists","line":120,"signature":"(self)","calls":[],"doc":"Test legacy detection when index file doesn't exist."},{"name":"test_split_format_empty_directory","line":126,"signature":"(self)","calls":[],"doc":"Test split detection when directory exists but is empty."},{"name":"test_default_path_parameter","line":145,"signature":"(self)","calls":[],"doc":"Test detect_index_format with default path (cwd)."},{"name":"test_performance_under_100ms","line":163,"signature":"(self)","calls":[],"doc":"Test format detection completes in under 100ms (NFR)."}],"doc":"Test format detection logic (AC#1)."}],"imports":["json","tempfile","unittest","pathlib","project_index","shutil","os","time"]},"scripts/test_configuration.py":{"language":"python","functions":[{"name":"run_all_tests","line":429,"signature":"()","calls":[],"doc":"Run all configuration tests."}],"classes":[{"name":"TestLoadConfiguration","line":30,"bases":[],"methods":[{"name":"setUp","line":33,"signature":"(self)","calls":[],"doc":"Create temporary directory for test files."},{"name":"tearDown","line":40,"signature":"(self)","calls":[],"doc":"Clean up temporary directory and config files."},{"name":"test_load_valid_config_all_fields","line":52,"signature":"(self)","calls":[],"doc":"Test loading configuration with all fields present."},{"name":"test_load_config_missing_file","line":70,"signature":"(self)","calls":[],"doc":"Test loading when config file doesn't exist (should return empty dict)."},{"name":"test_load_config_invalid_json","line":77,"signature":"(self)","calls":[],"doc":"Test loading corrupted JSON (should return empty dict with warning)."},{"name":"test_load_config_invalid_mode","line":86,"signature":"(self)","calls":[],"doc":"Test loading with invalid mode value (should remove invalid field)."},{"name":"test_load_config_invalid_threshold","line":96,"signature":"(self)","calls":[],"doc":"Test loading with invalid threshold (should remove invalid field)."},{"name":"test_load_config_threshold_string","line":106,"signature":"(self)","calls":[],"doc":"Test loading with threshold as string (should remove invalid field)."},{"name":"test_load_config_mode_auto","line":116,"signature":"(self)","calls":[],"doc":"Test loading with mode='auto' (valid, should preserve)."},{"name":"test_load_config_mode_single","line":126,"signature":"(self)","calls":[],"doc":"Test loading with mode='single' (valid, should preserve)."},{"name":"test_load_config_partial_fields","line":136,"signature":"(self)","calls":[],"doc":"Test loading with only some fields present."},{"name":"test_load_config_performance","line":147,"signature":"(self)","calls":[],"doc":"Test configuration loading completes in <100ms (NFR)."}],"doc":"Test configuration file loading (AC#1, #2, #3)."},{"name":"TestConfigurationPrecedence","line":161,"bases":[],"methods":[{"name":"setUp","line":164,"signature":"(self)","calls":[],"doc":"Create temporary directory and config file."},{"name":"tearDown","line":179,"signature":"(self)","calls":[],"doc":"Clean up temporary directory and config files."},{"name":"test_cli_mode_overrides_config","line":194,"signature":"(self, mock_summary, mock_generate)","calls":[],"doc":"Test CLI --mode flag overrides config file mode."},{"name":"test_cli_threshold_overrides_config","line":212,"signature":"(self, mock_git_files, mock_summary, mock_compress, mock_convert, mock_build)","calls":[],"doc":"Test CLI --threshold flag overrides config file threshold."},{"name":"test_config_file_used_when_no_cli_flags","line":227,"signature":"(self)","calls":[],"doc":"Test config file values used when no CLI flags provided."}],"doc":"Test configuration precedence: CLI > config file > defaults (AC#1, #2, #3)."},{"name":"TestModeSelection","line":235,"bases":[],"methods":[{"name":"setUp","line":238,"signature":"(self)","calls":[],"doc":"Create temporary directory."},{"name":"tearDown","line":245,"signature":"(self)","calls":[],"doc":"Clean up temporary directory and config files."},{"name":"test_mode_split_forces_split_format","line":260,"signature":"(self, mock_summary, mock_generate)","calls":[],"doc":"Test --mode split always generates split format (AC#2)."},{"name":"test_mode_single_forces_single_format","line":274,"signature":"(self, mock_summary, mock_compress, mock_convert, mock_build)","calls":[],"doc":"Test --mode single always generates single-file format (AC#1)."},{"name":"test_mode_auto_respects_threshold","line":291,"signature":"(self, mock_git_files, mock_summary, mock_compress, mock_convert, mock_build)","calls":[],"doc":"Test --mode auto uses threshold for decision (AC#3)."},{"name":"test_mode_auto_triggers_split_above_threshold","line":309,"signature":"(self, mock_git_files, mock_summary, mock_generate)","calls":[],"doc":"Test --mode auto triggers split when file count exceeds threshold."}],"doc":"Test mode selection logic (AC#1, #2, #3)."},{"name":"TestCustomThreshold","line":321,"bases":[],"methods":[{"name":"setUp","line":324,"signature":"(self)","calls":[],"doc":"Create temporary directory."},{"name":"tearDown","line":331,"signature":"(self)","calls":[],"doc":"Clean up temporary directory and config files."},{"name":"test_custom_threshold_via_cli","line":347,"signature":"(self, mock_git_files, mock_summary, mock_generate)","calls":[],"doc":"Test custom threshold via --threshold flag."},{"name":"test_config_file_threshold","line":365,"signature":"(self, mock_git_files, mock_summary, mock_compress, mock_convert, mock_build)","calls":[],"doc":"Test custom threshold from config file."}],"doc":"Test custom threshold configuration (AC#3)."},{"name":"TestBackwardCompatibility","line":384,"bases":[],"methods":[{"name":"setUp","line":387,"signature":"(self)","calls":[],"doc":"Create temporary directory."},{"name":"tearDown","line":394,"signature":"(self)","calls":[],"doc":"Clean up temporary directory and config files."},{"name":"test_legacy_format_split_flag","line":409,"signature":"(self, mock_summary, mock_generate)","calls":[],"doc":"Test legacy --format=split flag still works."},{"name":"test_legacy_split_flag","line":420,"signature":"(self, mock_summary, mock_generate)","calls":[],"doc":"Test legacy --split flag still works."}],"doc":"Test backward compatibility with legacy flags."}],"imports":["json","os","shutil","tempfile","time","unittest","pathlib","unittest.mock","sys","project_index"]},"scripts/test_doc_classifier.py":{"language":"python","functions":[{"name":"run_all_tests","line":253,"signature":"()","calls":[],"doc":"Run all test suites."}],"classes":[{"name":"TestClassifyDocumentation","line":20,"bases":[],"methods":[{"name":"test_critical_tier_patterns","line":23,"signature":"(self)","calls":[],"doc":"AC1: Classification logic identifies critical docs."},{"name":"test_standard_tier_patterns","line":41,"signature":"(self)","calls":[],"doc":"AC2: Classification identifies standard docs."},{"name":"test_archive_tier_patterns","line":58,"signature":"(self)","calls":[],"doc":"AC3: Classification identifies archive docs."},{"name":"test_default_tier_fallback","line":75,"signature":"(self)","calls":[],"doc":"Test default tier assignment for unmatched files."},{"name":"test_custom_tier_rules_extend_defaults","line":90,"signature":"(self)","calls":[],"doc":"AC4: Classification rules are configurable via config file."},{"name":"test_custom_config_invalid_format","line":117,"signature":"(self)","calls":[],"doc":"Test graceful handling of invalid config."},{"name":"test_config_none","line":134,"signature":"(self)","calls":[],"doc":"Test classification with None config."},{"name":"test_config_empty_dict","line":139,"signature":"(self)","calls":[],"doc":"Test classification with empty config dict."},{"name":"test_path_normalization","line":144,"signature":"(self)","calls":[],"doc":"Test that paths are normalized for consistent matching."},{"name":"test_case_sensitivity","line":157,"signature":"(self)","calls":[],"doc":"Test that pattern matching handles case correctly."},{"name":"test_tier_rules_structure","line":169,"signature":"(self)","calls":[],"doc":"Test that TIER_RULES constant has expected structure."}],"doc":"Test the classify_documentation function."},{"name":"TestIntegrationWithRealFiles","line":185,"bases":[],"methods":[{"name":"test_with_temporary_files","line":188,"signature":"(self)","calls":[],"doc":"Test classification with actual files in temp directory."},{"name":"test_relative_to_cwd","line":213,"signature":"(self)","calls":[],"doc":"Test classification of files relative to current working directory."},{"name":"test_classification_performance","line":232,"signature":"(self)","calls":[],"doc":"Test that classification is fast (< 1ms per file)."}],"doc":"Integration tests with actual file system."}],"imports":["unittest","pathlib","tempfile","os","doc_classifier","time","sys"]},"scripts/test_git_metadata.py":{"language":"python","functions":[{"name":"run_all_tests","line":412,"signature":"()","calls":[],"doc":"Run all test suites."}],"classes":[{"name":"TestExtractGitMetadata","line":32,"bases":[],"methods":[{"name":"setUp","line":35,"signature":"(self)","calls":[],"doc":"Create a temporary git repository for testing."},{"name":"tearDown","line":58,"signature":"(self)","calls":[],"doc":"Clean up temporary directory."},{"name":"test_extract_commit_hash","line":62,"signature":"(self)","calls":[],"doc":"AC#1: Extract commit hash from git log."},{"name":"test_extract_author_email","line":70,"signature":"(self)","calls":[],"doc":"AC#1: Extract author email from git log."},{"name":"test_extract_commit_date","line":77,"signature":"(self)","calls":[],"doc":"AC#1: Extract commit date in ISO8601 format."},{"name":"test_extract_commit_message","line":86,"signature":"(self)","calls":[],"doc":"AC#1: Extract commit message."},{"name":"test_extract_pr_number_from_message","line":93,"signature":"(self)","calls":[],"doc":"AC#2: Extract PR number from commit message."},{"name":"test_extract_lines_changed","line":99,"signature":"(self)","calls":[],"doc":"AC#1: Extract lines changed from git diff."},{"name":"test_recency_days_calculation","line":107,"signature":"(self)","calls":[],"doc":"AC#1: Calculate recency days from commit date."},{"name":"test_caching_mechanism","line":116,"signature":"(self)","calls":[],"doc":"AC#5: Verify caching avoids duplicate git queries."},{"name":"test_fallback_to_mtime_when_git_unavailable","line":136,"signature":"(self)","calls":[],"doc":"AC#3: Graceful fallback to filesystem mtime when git unavailable."},{"name":"test_multiple_commits_returns_latest","line":160,"signature":"(self)","calls":[],"doc":"Verify extraction returns data from the most recent commit."}],"doc":"Test the main extract_git_metadata function."},{"name":"TestPRNumberExtraction","line":180,"bases":[],"methods":[{"name":"test_parse_pr_with_hash","line":183,"signature":"(self)","calls":[],"doc":"AC#2: Extract PR number from #123 pattern."},{"name":"test_parse_pr_without_parens","line":187,"signature":"(self)","calls":[],"doc":"AC#2: Extract PR number from #456 pattern."},{"name":"test_parse_pr_with_prefix","line":191,"signature":"(self)","calls":[],"doc":"AC#2: Extract PR number from PR #789 pattern."},{"name":"test_no_pr_in_message","line":195,"signature":"(self)","calls":[],"doc":"AC#2: Return None when no PR number found."},{"name":"test_multiple_pr_numbers_returns_first","line":200,"signature":"(self)","calls":[],"doc":"Return first PR number when multiple are present."},{"name":"test_empty_message","line":204,"signature":"(self)","calls":[],"doc":"Handle empty commit message gracefully."}],"doc":"Test PR number parsing from commit messages."},{"name":"TestRecencyCalculation","line":210,"bases":[],"methods":[{"name":"test_calculate_recency_today","line":213,"signature":"(self)","calls":[],"doc":"Test recency for commit made today."},{"name":"test_calculate_recency_yesterday","line":219,"signature":"(self)","calls":[],"doc":"Test recency for commit made yesterday."},{"name":"test_calculate_recency_week_ago","line":225,"signature":"(self)","calls":[],"doc":"Test recency for commit made a week ago."},{"name":"test_calculate_recency_invalid_date","line":231,"signature":"(self)","calls":[],"doc":"Handle invalid date gracefully."},{"name":"test_calculate_recency_with_timezone","line":236,"signature":"(self)","calls":[],"doc":"Handle dates with timezone info correctly."}],"doc":"Test recency days calculation."},{"name":"TestFallbackToMtime","line":244,"bases":[],"methods":[{"name":"test_fallback_returns_valid_structure","line":247,"signature":"(self)","calls":[],"doc":"AC#3: Fallback returns proper metadata structure."},{"name":"test_fallback_nonexistent_file","line":275,"signature":"(self)","calls":[],"doc":"Handle nonexistent file gracefully."}],"doc":"Test fallback behavior when git unavailable."},{"name":"TestIntegrationWithProjectIndex","line":285,"bases":[],"methods":[{"name":"setUp","line":288,"signature":"(self)","calls":[],"doc":"Create a temporary git repository with multiple files."},{"name":"tearDown","line":312,"signature":"(self)","calls":[],"doc":"Clean up temporary directory."},{"name":"test_extract_metadata_for_all_files","line":316,"signature":"(self)","calls":[],"doc":"AC#4: Git metadata included for all files."}],"doc":"Integration tests with project_index.py."},{"name":"TestPerformance","line":338,"bases":[],"methods":[{"name":"setUp","line":341,"signature":"(self)","calls":[],"doc":"Create a larger temporary git repository."},{"name":"tearDown","line":365,"signature":"(self)","calls":[],"doc":"Clean up temporary directory."},{"name":"test_extraction_performance_under_5_seconds","line":369,"signature":"(self)","calls":[],"doc":"AC#5: Git extraction adds <5 seconds overhead for 100 files."}],"doc":"Test performance requirements."},{"name":"TestBackwardCompatibility","line":390,"bases":[],"methods":[{"name":"test_metadata_fields_optional","line":393,"signature":"(self)","calls":[],"doc":"Verify system handles missing git metadata gracefully."}],"doc":"Test backward compatibility."}],"imports":["json","os","subprocess","tempfile","time","unittest","datetime","pathlib","git_metadata","sys"]},"scripts/test_hybrid_routing.py":{"language":"python","functions":[{"name":"run_all_tests","line":496,"signature":"()","calls":[],"doc":"Run all test suites and report results"}],"classes":[{"name":"TestQueryClassification","line":32,"bases":[],"methods":[{"name":"classify_query_type","line":35,"signature":"(self, query: str) -> str","calls":[],"doc":""},{"name":"test_explicit_file_ref_classification","line":65,"signature":"(self)","calls":["classify_query_type"],"doc":"Test classification of explicit file reference queries"},{"name":"test_semantic_search_classification","line":81,"signature":"(self)","calls":["classify_query_type"],"doc":"Test classification of semantic search queries"},{"name":"test_temporal_query_classification","line":97,"signature":"(self)","calls":["classify_query_type"],"doc":"Test classification of temporal queries"},{"name":"test_structural_query_classification","line":113,"signature":"(self)","calls":["classify_query_type"],"doc":"Test classification of structural/architectural queries"},{"name":"test_classification_priority","line":129,"signature":"(self)","calls":["classify_query_type"],"doc":"Test that classification prioritizes correctly when multiple signals present"}],"doc":"Test query type classification logic (AC: All)"},{"name":"TestRoutingStrategyA","line":144,"bases":[],"methods":[{"name":"create_mock_core_index","line":147,"signature":"(self) -> dict","calls":[],"doc":"Create a minimal core index for testing"},{"name":"test_strategy_a_uses_index_for_navigation","line":165,"signature":"(self)","calls":["create_mock_core_index"],"doc":"Verify Strategy A uses index for file navigation (AC2.6.1)"},{"name":"test_strategy_a_mcp_read_availability","line":182,"signature":"(self)","calls":[],"doc":"Verify Strategy A checks MCP Read availability (AC2.6.1)"},{"name":"test_strategy_a_routing_decision","line":191,"signature":"(self)","calls":[],"doc":"Test routing decision for explicit file ref with MCP Read (AC2.6.1)"}],"doc":"Test Strategy A: Explicit File Reference + MCP Read (AC2.6.1)"},{"name":"TestRoutingStrategyB","line":206,"bases":[],"methods":[{"name":"test_strategy_b_routing_decision","line":209,"signature":"(self)","calls":[],"doc":"Test routing decision for semantic search with MCP Grep (AC2.6.2)"},{"name":"test_strategy_b_mcp_grep_availability","line":223,"signature":"(self)","calls":[],"doc":"Verify Strategy B checks MCP Grep availability (AC2.6.2)"}],"doc":"Test Strategy B: Semantic Search + MCP Grep (AC2.6.2)"},{"name":"TestRoutingStrategyC","line":233,"bases":[],"methods":[{"name":"test_strategy_c_routing_decision","line":236,"signature":"(self)","calls":[],"doc":"Test routing decision for temporal query with MCP Git (AC2.6.3)"},{"name":"test_strategy_c_mcp_git_availability","line":250,"signature":"(self)","calls":[],"doc":"Verify Strategy C checks MCP Git availability (AC2.6.3)"}],"doc":"Test Strategy C: Temporal Query + MCP Git (AC2.6.3)"},{"name":"TestRoutingStrategyD","line":260,"bases":[],"methods":[{"name":"test_strategy_d_fallback_no_mcp","line":263,"signature":"(self)","calls":[],"doc":"Test fallback routing when MCP tools unavailable (AC2.6.4)"},{"name":"test_strategy_d_structural_queries","line":279,"signature":"(self)","calls":[],"doc":"Test that structural queries always use Strategy D (AC2.6.4)"}],"doc":"Test Strategy D: Fallback to Index-Only (AC2.6.4)"},{"name":"TestVerboseLogging","line":301,"bases":[],"methods":[{"name":"generate_verbose_log","line":305,"signature":"(self, query: str, query_type: str, mcp_capabilities: dict, selected_strategy: str) -> str","calls":[],"doc":"Generate verbose log output for routing decision"},{"name":"test_verbose_log_strategy_a","line":324,"signature":"(self)","calls":["generate_verbose_log"],"doc":"Test verbose logging for Strategy A (AC2.6.5)"},{"name":"test_verbose_log_strategy_d_fallback","line":341,"signature":"(self)","calls":["generate_verbose_log"],"doc":"Test verbose logging for Strategy D fallback (AC2.6.5)"}],"doc":"Test verbose logging of routing decisions (AC2.6.5)"},{"name":"TestRoutingIntegration","line":358,"bases":[],"methods":[{"name":"route_query","line":361,"signature":"(self, user_query: str, mcp_capabilities: dict) -> Tuple[str, str]","calls":[],"doc":""},{"name":"test_routing_all_strategies_with_mcp","line":397,"signature":"(self)","calls":["route_query"],"doc":"Test routing to all 4 strategies with full MCP availability"},{"name":"test_routing_all_fallback_no_mcp","line":414,"signature":"(self)","calls":["route_query"],"doc":"Test that all queries fallback to Strategy D without MCP"},{"name":"test_routing_with_mocked_mcp_detection","line":431,"signature":"(self)","calls":["route_query"],"doc":"Test routing with mocked MCP capabilities"}],"doc":"Integration tests for complete routing workflow (All ACs)"},{"name":"TestPerformance","line":444,"bases":[],"methods":[{"name":"route_query_timed","line":447,"signature":"(self, query: str, mcp_capabilities: dict) -> Tuple[str, str, float]","calls":[],"doc":"Route query and measure execution time"},{"name":"test_routing_performance_under_50ms","line":478,"signature":"(self)","calls":["route_query_timed"],"doc":"Verify routing completes in <50ms (performance requirement)"}],"doc":"Test performance requirements for hybrid routing"}],"imports":["json","os","sys","tempfile","time","unittest","pathlib","typing","unittest.mock","scripts.mcp_detector"]},"scripts/test_impact.py":{"language":"python","functions":[{"name":"run_all_tests","line":540,"signature":"()","calls":[],"doc":"Run all tests and print summary"}],"classes":[{"name":"TestBuildReverseCallGraph","line":33,"bases":[],"methods":[{"name":"test_simple_call_graph","line":36,"signature":"(self)","calls":[],"doc":"Should build reverse graph from forward edges"},{"name":"test_empty_call_graph","line":49,"signature":"(self)","calls":[],"doc":"Should return empty dict for empty call graph"},{"name":"test_malformed_edges","line":54,"signature":"(self)","calls":[],"doc":"Should skip malformed edges gracefully"},{"name":"test_no_duplicates","line":68,"signature":"(self)","calls":[],"doc":"Should not create duplicate callers"}],"doc":"Test reverse call graph construction"},{"name":"TestAnalyzeImpact","line":81,"bases":[],"methods":[{"name":"setUp","line":84,"signature":"(self)","calls":[],"doc":"Create sample call graph for testing"},{"name":"test_direct_callers_only","line":97,"signature":"(self)","calls":[],"doc":"Should identify direct callers (depth=1)"},{"name":"test_indirect_callers","line":105,"signature":"(self)","calls":[],"doc":"Should traverse multiple levels for indirect callers"},{"name":"test_max_depth_respected","line":113,"signature":"(self)","calls":[],"doc":"Should respect max_depth parameter"},{"name":"test_function_not_found","line":131,"signature":"(self)","calls":[],"doc":"Should return empty result for function not in graph"},{"name":"test_empty_call_graph","line":140,"signature":"(self)","calls":[],"doc":"Should handle empty call graph gracefully"}],"doc":"Test core impact analysis logic"},{"name":"TestCircularDependencies","line":148,"bases":[],"methods":[{"name":"test_simple_cycle","line":151,"signature":"(self)","calls":[],"doc":"Should detect simple cycle: A \u2192 B \u2192 A"},{"name":"test_complex_cycle","line":164,"signature":"(self)","calls":[],"doc":"Should handle complex cycle: A \u2192 B \u2192 C \u2192 A"},{"name":"test_self_loop","line":184,"signature":"(self)","calls":[],"doc":"Should handle self-referential function"}],"doc":"Test circular dependency detection and handling"},{"name":"TestFilePathMapping","line":198,"bases":[],"methods":[{"name":"setUp","line":201,"signature":"(self)","calls":[],"doc":"Create sample index data"},{"name":"test_map_with_line_numbers","line":214,"signature":"(self)","calls":[],"doc":"Should map functions to file paths with line numbers"},{"name":"test_map_without_line_numbers","line":222,"signature":"(self)","calls":[],"doc":"Should handle functions without line numbers"},{"name":"test_function_not_in_index","line":229,"signature":"(self)","calls":[],"doc":"Should mark unknown functions"},{"name":"test_empty_index","line":236,"signature":"(self)","calls":[],"doc":"Should handle empty index gracefully"}],"doc":"Test mapping functions to file paths and line numbers"},{"name":"TestFormatImpactReport","line":244,"bases":[],"methods":[{"name":"test_format_with_file_paths","line":247,"signature":"(self)","calls":[],"doc":"Should format report with file paths"},{"name":"test_format_without_file_paths","line":275,"signature":"(self)","calls":[],"doc":"Should format report without index data"},{"name":"test_format_empty_result","line":292,"signature":"(self)","calls":[],"doc":"Should format empty result with message"}],"doc":"Test impact report formatting"},{"name":"TestDualFormatSupport","line":309,"bases":[],"methods":[{"name":"setUp","line":312,"signature":"(self)","calls":["_cleanup"],"doc":"Create temporary test directories"},{"name":"_cleanup","line":317,"signature":"(self)","calls":[],"doc":"Clean up temp directory"},{"name":"test_load_from_split_architecture","line":323,"signature":"(self)","calls":[],"doc":"Should load and merge call graphs from split architecture"},{"name":"test_load_from_legacy_format","line":361,"signature":"(self)","calls":[],"doc":"Should load call graph from legacy single-file format"},{"name":"test_integration_with_split_index","line":380,"signature":"(self)","calls":[],"doc":"Integration test: Analyze impact using split architecture"},{"name":"test_integration_with_legacy_index","line":419,"signature":"(self)","calls":[],"doc":"Integration test: Analyze impact using legacy format"}],"doc":"Test integration with both split and legacy index formats"},{"name":"TestPerformance","line":448,"bases":[],"methods":[{"name":"test_large_call_graph_performance","line":451,"signature":"(self)","calls":[],"doc":"Should analyze 10,000 function graph in <500ms"},{"name":"test_deep_traversal_performance","line":479,"signature":"(self)","calls":[],"doc":"Should handle deep traversal efficiently"}],"doc":"Test performance requirements"},{"name":"TestEdgeCases","line":497,"bases":[],"methods":[{"name":"test_isolated_function","line":500,"signature":"(self)","calls":[],"doc":"Should handle function with no callers"},{"name":"test_multiple_paths_to_same_caller","line":513,"signature":"(self)","calls":[],"doc":"Should deduplicate callers reached via multiple paths"},{"name":"test_zero_max_depth","line":530,"signature":"(self)","calls":[],"doc":"Should handle max_depth=0 (no traversal)"}],"doc":"Test edge cases and error handling"}],"imports":["json","os","sys","tempfile","time","unittest","pathlib","typing","unittest.mock","scripts.impact","shutil"]},"scripts/test_incremental.py":{"language":"python","functions":[{"name":"run_all_tests","line":316,"signature":"()","calls":[],"doc":"Run all test suites and report results."}],"classes":[{"name":"TestChangeDetection","line":32,"bases":[],"methods":[{"name":"setUp","line":35,"signature":"(self)","calls":[],"doc":"Create temporary git repository for testing."},{"name":"tearDown","line":53,"signature":"(self)","calls":[],"doc":"Clean up temporary directory."},{"name":"test_detect_10_changed_files","line":57,"signature":"(self)","calls":[],"doc":"Test detection of 10 changed files."},{"name":"test_graceful_fallback_git_unavailable","line":73,"signature":"(self)","calls":[],"doc":"Test fallback when git is unavailable."},{"name":"test_filter_to_tracked_files","line":81,"signature":"(self)","calls":[],"doc":"Test filtering to only tracked project files."}],"doc":"Test changed file detection via git diff (AC #1)."},{"name":"TestDependencyGraph","line":102,"bases":[],"methods":[{"name":"test_build_dependency_graph_from_imports","line":105,"signature":"(self)","calls":[],"doc":"Test building reverse dependency graph from import statements."},{"name":"test_identify_affected_modules_direct","line":122,"signature":"(self)","calls":[],"doc":"Test identifying directly affected modules."},{"name":"test_identify_affected_modules_with_dependencies","line":137,"signature":"(self)","calls":[],"doc":"Test identifying affected modules including dependencies."}],"doc":"Test dependency graph construction from imports (AC #2)."},{"name":"TestHashValidation","line":158,"bases":[],"methods":[{"name":"setUp","line":161,"signature":"(self)","calls":[],"doc":"Create temporary directory for test files."},{"name":"tearDown","line":166,"signature":"(self)","calls":[],"doc":"Clean up temporary directory."},{"name":"test_compute_module_hash_consistent","line":170,"signature":"(self)","calls":[],"doc":"Test that hash computation is consistent."},{"name":"test_validate_index_integrity_success","line":181,"signature":"(self)","calls":[],"doc":"Test validation passes with correct hashes."},{"name":"test_validate_index_integrity_corruption","line":197,"signature":"(self)","calls":[],"doc":"Test validation fails with corrupted module."}],"doc":"Test hash-based integrity validation (AC #4)."},{"name":"TestAutoDetection","line":213,"bases":[],"methods":[{"name":"test_no_existing_index_triggers_full","line":216,"signature":"(self)","calls":[],"doc":"Test that missing index triggers full regeneration."}],"doc":"Test auto-detection of incremental vs full mode (AC #5)."},{"name":"TestPerformance","line":222,"bases":[],"methods":[{"name":"test_100_files_under_10_seconds","line":226,"signature":"(self)","calls":[],"doc":"Test that 100 changed files are processed in <10 seconds."}],"doc":"Test performance requirements (AC: <10s for 100 files)."},{"name":"TestIntegration","line":239,"bases":[],"methods":[{"name":"setUp","line":242,"signature":"(self)","calls":[],"doc":"Create temporary project with index."},{"name":"tearDown","line":288,"signature":"(self)","calls":[],"doc":"Clean up temporary directory."},{"name":"test_incremental_update_integration","line":292,"signature":"(self)","calls":[],"doc":"Test full incremental update workflow."}],"doc":"Integration tests with real project structure."}],"imports":["json","os","subprocess","tempfile","time","unittest","datetime","pathlib","unittest.mock","sys","incremental"]},"scripts/test_large_module_detection.py":{"language":"python","functions":[{"name":"run_all_tests","line":453,"signature":"()","calls":[],"doc":"Run all test suites."}],"classes":[{"name":"TestLoadConfigurationSubmodule","line":33,"bases":[],"methods":[{"name":"setUp","line":36,"signature":"(self)","calls":[],"doc":"Create temp directory for test configs."},{"name":"tearDown","line":42,"signature":"(self)","calls":[],"doc":"Clean up temp directory."},{"name":"test_load_valid_submodule_config","line":48,"signature":"(self)","calls":[],"doc":"Test loading valid submodule_config section."},{"name":"test_invalid_enabled_flag","line":71,"signature":"(self)","calls":[],"doc":"Test invalid enabled flag defaults to True."},{"name":"test_invalid_threshold","line":87,"signature":"(self)","calls":[],"doc":"Test invalid threshold defaults to 100."},{"name":"test_invalid_strategy","line":103,"signature":"(self)","calls":[],"doc":"Test invalid strategy defaults to 'auto'."},{"name":"test_invalid_max_depth","line":119,"signature":"(self)","calls":[],"doc":"Test invalid max_depth defaults to 3."}],"doc":"Test configuration loading for submodule_config section."},{"name":"TestGetSubmoduleConfig","line":136,"bases":[],"methods":[{"name":"test_defaults_when_no_config","line":139,"signature":"(self)","calls":[],"doc":"Test defaults are applied when config is None."},{"name":"test_defaults_when_missing_submodule_config","line":148,"signature":"(self)","calls":[],"doc":"Test defaults are applied when submodule_config missing."},{"name":"test_partial_config_applies_defaults","line":157,"signature":"(self)","calls":[],"doc":"Test partial config gets defaults for missing keys."}],"doc":"Test get_submodule_config function with defaults."},{"name":"TestDetectLargeModules","line":174,"bases":[],"methods":[{"name":"setUp","line":177,"signature":"(self)","calls":[],"doc":"Create temp directory for test projects."},{"name":"tearDown","line":182,"signature":"(self)","calls":[],"doc":"Clean up temp directory."},{"name":"test_detect_single_large_module","line":187,"signature":"(self)","calls":[],"doc":"Test detection of a single large module."},{"name":"test_detect_multiple_large_modules","line":201,"signature":"(self)","calls":[],"doc":"Test detection of multiple large modules."},{"name":"test_no_large_modules","line":215,"signature":"(self)","calls":[],"doc":"Test when no modules exceed threshold."},{"name":"test_edge_case_exactly_threshold","line":226,"signature":"(self)","calls":[],"doc":"Test module with exactly threshold files (should be flagged - boundary condition)."},{"name":"test_edge_case_one_over_threshold","line":237,"signature":"(self)","calls":[],"doc":"Test module with threshold + 1 files (should be flagged)."},{"name":"test_detection_disabled_via_config","line":248,"signature":"(self)","calls":[],"doc":"Test detection is skipped when enabled=false."}],"doc":"Test large module detection logic."},{"name":"TestAnalyzeDirectoryStructure","line":266,"bases":[],"methods":[{"name":"setUp","line":269,"signature":"(self)","calls":[],"doc":"Create temp directory with nested structure."},{"name":"tearDown","line":274,"signature":"(self)","calls":[],"doc":"Clean up temp directory."},{"name":"test_analyze_with_logical_groups","line":279,"signature":"(self)","calls":[],"doc":"Test analysis identifies logical groupings."},{"name":"test_analyze_flat_structure","line":306,"signature":"(self)","calls":[],"doc":"Test analysis handles flat directory (no subdirs)."},{"name":"test_file_distribution_counting","line":318,"signature":"(self)","calls":[],"doc":"Test file distribution is accurately counted."}],"doc":"Test directory structure analysis for large modules."},{"name":"TestIntegration","line":340,"bases":[],"methods":[{"name":"setUp","line":343,"signature":"(self)","calls":[],"doc":"Create temp directory for integration tests."},{"name":"tearDown","line":348,"signature":"(self)","calls":[],"doc":"Clean up temp directory."},{"name":"create_test_project","line":353,"signature":"(self, structure: Dict[str, int])","calls":[],"doc":""},{"name":"test_small_project","line":368,"signature":"(self)","calls":["create_test_project"],"doc":"Test detection on small project (all modules < 100 files)."},{"name":"test_medium_project","line":388,"signature":"(self)","calls":["create_test_project"],"doc":"Test detection on medium project (one module > 100 files)."},{"name":"test_large_project","line":404,"signature":"(self)","calls":["create_test_project"],"doc":"Test detection on large project (multiple modules > 100 files)."}],"doc":"Integration tests for large module detection."},{"name":"TestPerformance","line":423,"bases":[],"methods":[{"name":"setUp","line":426,"signature":"(self)","calls":[],"doc":"Create temp directory for performance tests."},{"name":"tearDown","line":431,"signature":"(self)","calls":[],"doc":"Clean up temp directory."},{"name":"test_detection_performance_1000_files","line":436,"signature":"(self)","calls":[],"doc":"Test detection completes in < 100ms for 1000-file module."}],"doc":"Performance tests for large module detection."}],"imports":["json","os","sys","tempfile","time","unittest","pathlib","typing","unittest.mock","project_index","shutil","shutil","shutil","shutil","shutil"]},"scripts/test_loader.py":{"language":"python","functions":[],"classes":[{"name":"TestLoadDetailModule","line":24,"bases":[],"methods":[{"name":"setUp","line":27,"signature":"(self)","calls":[],"doc":"Create temporary directory and test module files."},{"name":"tearDown","line":59,"signature":"(self)","calls":[],"doc":"Clean up temporary directory."},{"name":"test_load_valid_module","line":63,"signature":"(self)","calls":[],"doc":"Test loading a valid module returns correct data."},{"name":"test_load_nonexistent_module","line":72,"signature":"(self)","calls":[],"doc":"Test loading nonexistent module raises FileNotFoundError."},{"name":"test_load_invalid_json","line":80,"signature":"(self)","calls":[],"doc":"Test loading module with invalid JSON raises JSONDecodeError."},{"name":"test_load_incomplete_module","line":87,"signature":"(self)","calls":[],"doc":"Test loading module missing required fields raises ValueError."},{"name":"test_invalid_module_name_format","line":96,"signature":"(self)","calls":[],"doc":"Test invalid module name format raises ValueError."},{"name":"test_valid_module_name_formats","line":111,"signature":"(self)","calls":[],"doc":"Test valid module name formats are accepted."},{"name":"test_default_index_dir","line":137,"signature":"(self)","calls":[],"doc":"Test default index_dir uses PROJECT_INDEX.d/ in cwd."},{"name":"test_performance_under_500ms","line":153,"signature":"(self)","calls":[],"doc":"Test module loading completes in under 500ms (NFR001)."}],"doc":"Test load_detail_module function."},{"name":"TestFindModuleForFile","line":165,"bases":[],"methods":[{"name":"setUp","line":168,"signature":"(self)","calls":[],"doc":"Create test core index."},{"name":"test_find_existing_file","line":187,"signature":"(self)","calls":[],"doc":"Test finding file that exists in a module."},{"name":"test_find_file_with_leading_slash","line":195,"signature":"(self)","calls":[],"doc":"Test finding file with ./ prefix normalizes correctly."},{"name":"test_find_file_with_file_to_module_map_o1_lookup","line":200,"signature":"(self)","calls":[],"doc":"Test O(1) lookup via file_to_module_map (Story 4.3)."},{"name":"test_fallback_to_linear_search_without_map","line":216,"signature":"(self)","calls":[],"doc":"Test fallback to linear search when file_to_module_map absent."},{"name":"test_o1_lookup_performance","line":222,"signature":"(self)","calls":[],"doc":"Test O(1) lookup is fast (<10ms for large map)."},{"name":"test_file_not_found","line":249,"signature":"(self)","calls":[],"doc":"Test file not in any module raises ValueError."},{"name":"test_invalid_core_index_missing_modules","line":257,"signature":"(self)","calls":[],"doc":"Test core_index without 'modules' or 'f' keys raises ValueError."},{"name":"test_invalid_core_index_type","line":266,"signature":"(self)","calls":[],"doc":"Test non-dict core_index raises TypeError."},{"name":"test_invalid_file_path_type","line":273,"signature":"(self)","calls":[],"doc":"Test non-string file_path raises TypeError."},{"name":"test_core_index_files_as_dict","line":280,"signature":"(self)","calls":[],"doc":"Test handling core_index with files as dict (not list)."}],"doc":"Test find_module_for_file function."},{"name":"TestLoadDetailByPath","line":297,"bases":[],"methods":[{"name":"setUp","line":300,"signature":"(self)","calls":[],"doc":"Create temporary directory and test files."},{"name":"tearDown","line":327,"signature":"(self)","calls":[],"doc":"Clean up temporary directory."},{"name":"test_load_by_valid_path","line":331,"signature":"(self)","calls":[],"doc":"Test loading module by valid file path."},{"name":"test_load_by_nonexistent_path","line":342,"signature":"(self)","calls":[],"doc":"Test loading by nonexistent file path raises ValueError."},{"name":"test_integration_with_find_module","line":353,"signature":"(self)","calls":[],"doc":"Test that load_detail_by_path correctly uses find_module_for_file."}],"doc":"Test load_detail_by_path function."},{"name":"TestLoadMultipleModules","line":366,"bases":[],"methods":[{"name":"setUp","line":369,"signature":"(self)","calls":[],"doc":"Create temporary directory and test modules."},{"name":"tearDown","line":385,"signature":"(self)","calls":[],"doc":"Clean up temporary directory."},{"name":"test_load_all_valid_modules","line":389,"signature":"(self)","calls":[],"doc":"Test loading multiple valid modules."},{"name":"test_load_with_partial_failures","line":406,"signature":"(self)","calls":[],"doc":"Test batch loading with mixed valid/invalid modules."},{"name":"test_load_all_invalid_modules","line":423,"signature":"(self)","calls":[],"doc":"Test batch loading with all invalid modules returns empty dict."},{"name":"test_load_empty_list","line":436,"signature":"(self)","calls":[],"doc":"Test loading empty list returns empty dict."},{"name":"test_invalid_input_type","line":443,"signature":"(self)","calls":[],"doc":"Test non-list input raises TypeError."},{"name":"test_warnings_for_failed_modules","line":450,"signature":"(self)","calls":[],"doc":"Test that warnings are issued for failed module loads."}],"doc":"Test load_multiple_modules function."},{"name":"TestIntegrationWithRealProject","line":465,"bases":[],"methods":[{"name":"setUp","line":468,"signature":"(self)","calls":[],"doc":"Check if real PROJECT_INDEX.d/ exists."},{"name":"test_load_real_scripts_module","line":483,"signature":"(self)","calls":[],"doc":"Test loading actual scripts module generated by Story 1.3."},{"name":"test_load_by_real_file_path","line":500,"signature":"(self)","calls":[],"doc":""},{"name":"test_batch_load_real_modules","line":533,"signature":"(self)","calls":[],"doc":"Test batch loading real modules from project."}],"doc":"Integration tests using actual PROJECT_INDEX.d/ from Story 1.3."}],"imports":["unittest","json","tempfile","time","pathlib","unittest.mock","warnings","loader","time"]},"scripts/test_manual_large_module.py":{"language":"python","functions":[{"name":"create_synthetic_project","line":12,"signature":"()","calls":[],"doc":"Create a synthetic project with one large module."},{"name":"run_test","line":61,"signature":"()","calls":["create_synthetic_project"],"doc":"Run the test."}],"classes":[],"imports":["json","shutil","tempfile","pathlib","sys","os","subprocess","sys"]},"scripts/test_mcp_detector.py":{"language":"python","functions":[{"name":"run_all_tests","line":369,"signature":"()","calls":[],"doc":"Run all test suites and return exit code."}],"classes":[{"name":"TestDetectMCPTools","line":28,"bases":[],"methods":[{"name":"setUp","line":31,"signature":"(self)","calls":[],"doc":"Reset detection cache before each test."},{"name":"tearDown","line":35,"signature":"(self)","calls":[],"doc":"Clean up after each test."},{"name":"test_all_tools_available","line":39,"signature":"(self)","calls":[],"doc":""},{"name":"test_partial_availability_read_grep_only","line":61,"signature":"(self)","calls":[],"doc":""},{"name":"test_no_tools_available","line":80,"signature":"(self)","calls":[],"doc":""},{"name":"test_detection_exception_handling","line":97,"signature":"(self)","calls":[],"doc":""},{"name":"test_caching_behavior","line":116,"signature":"(self)","calls":[],"doc":""},{"name":"test_get_cached_capabilities","line":135,"signature":"(self)","calls":[],"doc":""},{"name":"test_reset_detection_cache","line":155,"signature":"(self)","calls":[],"doc":""},{"name":"test_capability_map_immutability","line":180,"signature":"(self)","calls":[],"doc":""}],"doc":"Test suite for detect_mcp_tools() function."},{"name":"TestIsClaudeCodeEnvironment","line":202,"bases":[],"methods":[{"name":"test_claude_code_env_var","line":205,"signature":"(self)","calls":[],"doc":"Test detection via CLAUDE_CODE environment variable."},{"name":"test_claude_cli_env_var","line":211,"signature":"(self)","calls":[],"doc":"Test detection via CLAUDE_CLI environment variable."},{"name":"test_mcp_tools_available_marker","line":217,"signature":"(self)","calls":[],"doc":"Test detection via MCP_TOOLS_AVAILABLE marker."},{"name":"test_no_environment_markers","line":223,"signature":"(self)","calls":[],"doc":"Test detection returns False without environment markers."},{"name":"test_module_import_detection","line":229,"signature":"(self)","calls":[],"doc":"Test detection via MCP module availability."}],"doc":"Test suite for _is_claude_code_environment() internal function."},{"name":"TestPerformance","line":238,"bases":[],"methods":[{"name":"setUp","line":241,"signature":"(self)","calls":[],"doc":"Reset cache before performance tests."},{"name":"tearDown","line":245,"signature":"(self)","calls":[],"doc":"Clean up after performance tests."},{"name":"test_detection_under_100ms","line":249,"signature":"(self)","calls":[],"doc":""},{"name":"test_cached_retrieval_under_10ms","line":264,"signature":"(self)","calls":[],"doc":""}],"doc":"Performance validation tests for MCP detection."},{"name":"TestAgentIntegration","line":286,"bases":[],"methods":[{"name":"setUp","line":289,"signature":"(self)","calls":[],"doc":"Reset cache before integration tests."},{"name":"tearDown","line":293,"signature":"(self)","calls":[],"doc":"Clean up after integration tests."},{"name":"test_agent_initialization_pattern","line":297,"signature":"(self)","calls":[],"doc":""},{"name":"test_verbose_logging_pattern","line":320,"signature":"(self)","calls":[],"doc":""},{"name":"test_graceful_fallback_to_index_only","line":344,"signature":"(self)","calls":[],"doc":""}],"doc":"Integration tests simulating agent usage patterns."}],"imports":["json","os","sys","time","unittest","unittest.mock","pathlib","mcp_detector"]},"scripts/test_mcp_server.py":{"language":"python","functions":[{"name":"run_all_tests","line":683,"signature":"()","calls":[],"doc":"Run all test suites and return results."}],"classes":[{"name":"TestPydanticModels","line":82,"bases":[],"methods":[{"name":"test_load_core_index_input_defaults","line":85,"signature":"(self)","calls":[],"doc":""},{"name":"test_load_core_index_input_markdown_format","line":95,"signature":"(self)","calls":[],"doc":""},{"name":"test_load_module_input_required_fields","line":104,"signature":"(self)","calls":[],"doc":""},{"name":"test_load_module_input_min_length_validation","line":113,"signature":"(self)","calls":[],"doc":""},{"name":"test_load_module_input_max_length_validation","line":122,"signature":"(self)","calls":[],"doc":""},{"name":"test_search_files_input_limit_validation","line":131,"signature":"(self)","calls":[],"doc":""},{"name":"test_search_files_input_offset_validation","line":149,"signature":"(self)","calls":[],"doc":""},{"name":"test_search_files_input_query_required","line":163,"signature":"(self)","calls":[],"doc":""},{"name":"test_get_file_info_input_required_fields","line":172,"signature":"(self)","calls":[],"doc":""}],"doc":"Test Pydantic model validation (AC #6)."},{"name":"TestPathTraversalValidation","line":183,"bases":[],"methods":[{"name":"test_validate_path_within_project_valid","line":186,"signature":"(self)","calls":[],"doc":""},{"name":"test_validate_path_within_project_traversal_attack","line":197,"signature":"(self)","calls":[],"doc":""}],"doc":"Test path traversal validation (Security)."},{"name":"TestLoadCoreIndexTool","line":210,"bases":[],"methods":[{"name":"setUp","line":213,"signature":"(self)","calls":[],"doc":"Create temporary test index for each test."},{"name":"tearDown","line":237,"signature":"(self)","calls":[],"doc":"Clean up temporary files."},{"name":"test_load_core_index_json_format","line":242,"signature":"async (self)","calls":[],"doc":""},{"name":"test_load_core_index_markdown_format","line":258,"signature":"async (self)","calls":[],"doc":""},{"name":"test_load_core_index_file_not_found","line":274,"signature":"async (self)","calls":[],"doc":""},{"name":"test_load_core_index_invalid_json","line":288,"signature":"async (self)","calls":[],"doc":""}],"doc":"Test project_index_load_core tool (AC #2)."},{"name":"TestLoadModuleTool","line":305,"bases":[],"methods":[{"name":"setUp","line":308,"signature":"(self)","calls":[],"doc":"Create temporary test module for each test."},{"name":"tearDown","line":338,"signature":"(self)","calls":[],"doc":"Clean up temporary files."},{"name":"test_load_module_json_format","line":343,"signature":"async (self)","calls":[],"doc":""},{"name":"test_load_module_markdown_format","line":362,"signature":"async (self)","calls":[],"doc":""},{"name":"test_load_module_not_found","line":379,"signature":"async (self)","calls":[],"doc":""}],"doc":"Test project_index_load_module tool (AC #3)."},{"name":"TestSearchFilesTool","line":397,"bases":[],"methods":[{"name":"setUp","line":400,"signature":"(self)","calls":[],"doc":"Create temporary test index for search."},{"name":"tearDown","line":425,"signature":"(self)","calls":[],"doc":"Clean up temporary files."},{"name":"test_search_files_basic_query","line":430,"signature":"async (self)","calls":[],"doc":""},{"name":"test_search_files_with_pagination","line":447,"signature":"async (self)","calls":[],"doc":""},{"name":"test_search_files_empty_results","line":466,"signature":"async (self)","calls":[],"doc":""}],"doc":"Test project_index_search_files tool (AC #4)."},{"name":"TestGetFileInfoTool","line":482,"bases":[],"methods":[{"name":"setUp","line":485,"signature":"(self)","calls":[],"doc":"Create temporary test index and module for file info."},{"name":"tearDown","line":500,"signature":"(self)","calls":[],"doc":"Clean up temporary files."},{"name":"test_get_file_info_json_format","line":505,"signature":"async (self)","calls":[],"doc":""},{"name":"test_get_file_info_markdown_format","line":536,"signature":"async (self)","calls":[],"doc":""},{"name":"test_get_file_info_not_found","line":569,"signature":"async (self)","calls":[],"doc":""}],"doc":"Test project_index_get_file_info tool (AC #5)."},{"name":"TestUtilityFunctions","line":591,"bases":[],"methods":[{"name":"setUp","line":594,"signature":"(self)","calls":[],"doc":"Create temporary test files."},{"name":"tearDown","line":598,"signature":"(self)","calls":[],"doc":"Clean up temporary files."},{"name":"test_load_json_file_success","line":603,"signature":"(self)","calls":[],"doc":"Test successful JSON file loading."},{"name":"test_load_json_file_not_found","line":613,"signature":"(self)","calls":[],"doc":"Test FileNotFoundError is raised for missing file."},{"name":"test_load_json_file_invalid_json","line":618,"signature":"(self)","calls":[],"doc":"Test ValueError is raised for invalid JSON."},{"name":"test_format_core_index_markdown","line":627,"signature":"(self)","calls":[],"doc":"Test markdown formatting of core index."},{"name":"test_handle_error_formatting","line":655,"signature":"(self)","calls":[],"doc":"Test error message formatting with actionable guidance."}],"doc":"Test utility functions (_load_json_file, _format_core_index_markdown, etc.)."},{"name":"TestTypeAnnotations","line":664,"bases":[],"methods":[{"name":"test_load_json_file_return_type","line":667,"signature":"(self)","calls":[],"doc":"Test _load_json_file has correct return type annotation."},{"name":"test_format_core_index_markdown_param_type","line":674,"signature":"(self)","calls":[],"doc":"Test _format_core_index_markdown has correct parameter type."}],"doc":"Test type annotations are correctly specified (Code Review)."}],"imports":["json","os","sys","tempfile","time","unittest","pathlib","unittest.mock","pydantic","project_index_mcp","project_index_mcp","shutil","shutil","shutil","shutil","shutil","inspect","inspect"]},"scripts/test_migration.py":{"language":"python","functions":[{"name":"run_all_tests","line":447,"signature":"()","calls":[],"doc":"Run all migration tests."}],"classes":[{"name":"TestCreateBackup","line":34,"bases":[],"methods":[{"name":"setUp","line":37,"signature":"(self)","calls":[],"doc":"Create temporary directory for test files."},{"name":"tearDown","line":43,"signature":"(self)","calls":[],"doc":"Clean up temporary directory."},{"name":"test_backup_creation_with_timestamp","line":47,"signature":"(self)","calls":[],"doc":"Test AC#3: Backup created with timestamp."},{"name":"test_backup_preserves_permissions","line":63,"signature":"(self)","calls":[],"doc":"Test AC#3: Backup preserves file permissions."},{"name":"test_backup_failure_on_nonexistent_file","line":75,"signature":"(self)","calls":[],"doc":"Test backup fails gracefully if source doesn't exist."}],"doc":"Test backup creation mechanism (AC#3)."},{"name":"TestExtractLegacyData","line":83,"bases":[],"methods":[{"name":"setUp","line":86,"signature":"(self)","calls":[],"doc":"Create temporary directory and test index."},{"name":"tearDown","line":91,"signature":"(self)","calls":[],"doc":"Clean up temporary directory."},{"name":"test_extract_valid_legacy_index","line":95,"signature":"(self)","calls":[],"doc":"Test extracting valid legacy index data."},{"name":"test_extract_nonexistent_index","line":111,"signature":"(self)","calls":[],"doc":"Test extraction fails if index doesn't exist."},{"name":"test_extract_corrupted_json","line":118,"signature":"(self)","calls":[],"doc":"Test extraction fails on corrupted JSON."}],"doc":"Test legacy data extraction (AC#2)."},{"name":"TestValidateMigrationIntegrity","line":126,"bases":[],"methods":[{"name":"test_validation_passes_with_matching_data","line":129,"signature":"(self)","calls":[],"doc":"Test AC#4: Validation passes when all data preserved."},{"name":"test_validation_fails_on_missing_files","line":176,"signature":"(self)","calls":[],"doc":"Test AC#4: Validation fails if files are missing."},{"name":"test_validation_fails_on_function_count_mismatch","line":201,"signature":"(self)","calls":[],"doc":"Test AC#4: Validation fails if function count doesn't match."}],"doc":"Test migration integrity validation (AC#4)."},{"name":"TestRollbackMigration","line":230,"bases":[],"methods":[{"name":"setUp","line":233,"signature":"(self)","calls":[],"doc":"Create temporary directory and test files."},{"name":"tearDown","line":248,"signature":"(self)","calls":[],"doc":"Clean up temporary directory."},{"name":"test_rollback_restores_backup","line":252,"signature":"(self)","calls":[],"doc":"Test AC#5: Rollback restores original from backup."},{"name":"test_rollback_cleans_up_detail_directory","line":260,"signature":"(self)","calls":[],"doc":"Test AC#5: Rollback removes partial split artifacts."},{"name":"test_rollback_handles_missing_backup_gracefully","line":267,"signature":"(self)","calls":[],"doc":"Test rollback doesn't fail if backup missing."}],"doc":"Test rollback mechanism (AC#5)."},{"name":"TestMigrateToSplitFormat","line":275,"bases":[],"methods":[{"name":"setUp","line":278,"signature":"(self)","calls":[],"doc":"Create temporary directory with legacy index."},{"name":"tearDown","line":309,"signature":"(self)","calls":[],"doc":"Clean up temporary directory."},{"name":"test_migrate_creates_split_format","line":314,"signature":"(self)","calls":[],"doc":"Test AC#1: Migration converts legacy \u2192 split format."},{"name":"test_migrate_creates_backup","line":331,"signature":"(self)","calls":[],"doc":"Test AC#3: Migration creates backup before converting."},{"name":"test_migrate_preserves_data","line":345,"signature":"(self)","calls":[],"doc":"Test AC#2: Migration preserves all data."},{"name":"test_migrate_validates_integrity","line":368,"signature":"(self)","calls":[],"doc":"Test AC#4: Migration validates data integrity."},{"name":"test_migrate_already_split_format","line":376,"signature":"(self)","calls":[],"doc":"Test migration detects already-split format and exits gracefully."},{"name":"test_migrate_nonexistent_index","line":387,"signature":"(self)","calls":[],"doc":"Test AC#5: Clear failure message when no index exists."},{"name":"test_migrate_performance_under_10_seconds","line":396,"signature":"(self)","calls":[],"doc":"Test NFR: Migration completes in <10 seconds."}],"doc":"Integration tests for full migration workflow (AC#1-5)."},{"name":"TestMigrationCommandLineInterface","line":405,"bases":[],"methods":[{"name":"setUp","line":408,"signature":"(self)","calls":[],"doc":"Create temporary directory with legacy index."},{"name":"tearDown","line":425,"signature":"(self)","calls":[],"doc":"Clean up temporary directory."},{"name":"test_migrate_flag_triggers_migration","line":431,"signature":"(self)","calls":[],"doc":"Test AC#1: --migrate flag triggers migration workflow."}],"doc":"Test --migrate flag integration (AC#1)."}],"imports":["json","os","shutil","tempfile","time","unittest","pathlib","unittest.mock","project_index","project_index","sys"]},"scripts/test_relevance.py":{"language":"python","functions":[{"name":"run_all_tests","line":902,"signature":"()","calls":[],"doc":"Run all tests and return results."}],"classes":[{"name":"TestFilterFilesByRecency","line":26,"bases":[],"methods":[{"name":"test_filter_files_by_7_day_window","line":29,"signature":"(self)","calls":[],"doc":"Verify 7-day filtering returns only recent files."},{"name":"test_filter_files_by_30_day_window","line":45,"signature":"(self)","calls":[],"doc":"Verify 30-day filtering includes medium-aged files."},{"name":"test_filter_files_by_90_day_window","line":61,"signature":"(self)","calls":[],"doc":"Verify 90-day filtering includes all but very old files."},{"name":"test_filter_handles_missing_git_metadata","line":77,"signature":"(self)","calls":[],"doc":"Files without git metadata are excluded from results."},{"name":"test_filter_empty_results","line":91,"signature":"(self)","calls":[],"doc":"No files match threshold returns empty list."},{"name":"test_filter_empty_input_files","line":103,"signature":"(self)","calls":[],"doc":"Empty file list returns empty result."},{"name":"test_filter_empty_git_metadata","line":108,"signature":"(self)","calls":[],"doc":"Empty git metadata returns empty result."},{"name":"test_filter_handles_path_normalization","line":114,"signature":"(self)","calls":[],"doc":"Filter handles leading ./ in file paths."},{"name":"test_filter_boundary_conditions","line":128,"signature":"(self)","calls":[],"doc":"Test exact boundary at threshold (7 days exactly)."}],"doc":"Test temporal filtering by recency threshold."},{"name":"TestParseModuleName","line":143,"bases":[],"methods":[{"name":"setUp","line":146,"signature":"(self)","calls":[],"doc":"Initialize scorer for testing."},{"name":"test_parse_monolithic_module","line":150,"signature":"(self)","calls":[],"doc":"Parse monolithic module name (single component)."},{"name":"test_parse_two_level_module","line":158,"signature":"(self)","calls":[],"doc":"Parse two-level module name (parent-child)."},{"name":"test_parse_three_level_module","line":166,"signature":"(self)","calls":[],"doc":"Parse three-level module name (parent-child-grandchild)."},{"name":"test_parse_handles_deep_nesting","line":174,"signature":"(self)","calls":[],"doc":"Parse deeply nested module names (4+ components)."},{"name":"test_parse_simple_names","line":183,"signature":"(self)","calls":[],"doc":"Parse simple module names (scripts, docs, etc.)."}],"doc":"Test multi-level module name parsing (Story 4.3)."},{"name":"TestDetectModuleType","line":199,"bases":[],"methods":[{"name":"setUp","line":202,"signature":"(self)","calls":[],"doc":"Initialize scorer for testing."},{"name":"test_detect_components_module","line":206,"signature":"(self)","calls":[],"doc":"Detect 'components' type from module name."},{"name":"test_detect_views_module","line":217,"signature":"(self)","calls":[],"doc":"Detect 'views' type from module name."},{"name":"test_detect_api_module","line":229,"signature":"(self)","calls":[],"doc":"Detect 'api' type from module name."},{"name":"test_detect_stores_module","line":241,"signature":"(self)","calls":[],"doc":"Detect 'stores' type from module name."},{"name":"test_detect_composables_module","line":253,"signature":"(self)","calls":[],"doc":"Detect 'composables' type from module name."},{"name":"test_detect_utils_module","line":264,"signature":"(self)","calls":[],"doc":"Detect 'utils' type from module name."},{"name":"test_detect_tests_module","line":276,"signature":"(self)","calls":[],"doc":"Detect 'tests' type from module name."},{"name":"test_detect_generic_module","line":289,"signature":"(self)","calls":[],"doc":"Detect 'generic' type for non-specific module names."}],"doc":"Test module type detection from module names (Story 4.3)."},{"name":"TestKeywordBoosting","line":303,"bases":[],"methods":[{"name":"setUp","line":306,"signature":"(self)","calls":[],"doc":"Initialize scorer for testing."},{"name":"test_component_keyword_boosts_components_module","line":310,"signature":"(self)","calls":[],"doc":"Query with 'component' keyword boosts components module."},{"name":"test_api_keyword_boosts_api_module","line":320,"signature":"(self)","calls":[],"doc":"Query with 'api' keyword boosts api module."},{"name":"test_store_keyword_boosts_stores_module","line":330,"signature":"(self)","calls":[],"doc":"Query with 'store' keyword boosts stores module."},{"name":"test_test_keyword_boosts_tests_module","line":340,"signature":"(self)","calls":[],"doc":"Query with 'test' keyword boosts tests module."},{"name":"test_no_boost_for_non_matching_keywords","line":350,"signature":"(self)","calls":[],"doc":"Non-matching keywords don't boost score."},{"name":"test_no_boost_for_generic_modules","line":360,"signature":"(self)","calls":[],"doc":"Generic modules don't receive keyword boosts."},{"name":"test_zero_score_remains_zero","line":370,"signature":"(self)","calls":[],"doc":"Zero base score stays zero even with keyword match."}],"doc":"Test keyword-based score boosting (Story 4.3)."},{"name":"TestBackwardCompatibility","line":380,"bases":[],"methods":[{"name":"setUp","line":383,"signature":"(self)","calls":[],"doc":"Initialize scorer for testing."},{"name":"test_scoring_with_monolithic_modules","line":387,"signature":"(self)","calls":[],"doc":"Test relevance scoring works with monolithic (single-level) modules."},{"name":"test_scoring_with_two_level_modules","line":407,"signature":"(self)","calls":[],"doc":"Test relevance scoring with two-level sub-modules (parent-child)."},{"name":"test_scoring_with_three_level_modules","line":427,"signature":"(self)","calls":[],"doc":"Test relevance scoring with three-level sub-modules (parent-child-grandchild)."},{"name":"test_parse_module_name_backward_compat","line":457,"signature":"(self)","calls":[],"doc":"Test _parse_module_name handles all module organization levels."},{"name":"test_detect_module_type_backward_compat","line":476,"signature":"(self)","calls":[],"doc":"Test _detect_module_type handles all module organization levels."}],"doc":"Test backward compatibility with different module organization levels (Story 4.3)."},{"name":"TestRelevanceScorer","line":491,"bases":[],"methods":[{"name":"setUp","line":494,"signature":"(self)","calls":[],"doc":"Initialize scorer with default weights."},{"name":"test_explicit_file_ref_highest_score","line":498,"signature":"(self)","calls":[],"doc":"Explicit file references receive 10x weight (highest priority)."},{"name":"test_temporal_recent_7day_5x_weight","line":512,"signature":"(self)","calls":[],"doc":"Files changed in last 7 days get 5x weight."},{"name":"test_temporal_medium_30day_2x_weight","line":528,"signature":"(self)","calls":[],"doc":"Files changed in last 30 days (but not 7) get 2x weight."},{"name":"test_keyword_match_1x_weight","line":544,"signature":"(self)","calls":[],"doc":"Keyword matches get 1x weight."},{"name":"test_combined_scoring_all_signals","line":558,"signature":"(self)","calls":[],"doc":"Multiple signals combine correctly."},{"name":"test_no_temporal_boost_for_old_files","line":574,"signature":"(self)","calls":[],"doc":"Files older than 30 days receive no temporal boost."},{"name":"test_score_module_empty_module","line":590,"signature":"(self)","calls":[],"doc":"Empty module returns score of 0."},{"name":"test_score_module_missing_files_key","line":597,"signature":"(self)","calls":[],"doc":"Module without 'files' key returns score of 0."},{"name":"test_score_multiple_files_in_module","line":604,"signature":"(self)","calls":[],"doc":"Score accumulates across multiple files in module."}],"doc":"Test multi-signal relevance scoring engine."},{"name":"TestRelevanceScorerConfiguration","line":636,"bases":[],"methods":[{"name":"test_load_default_weights","line":639,"signature":"(self)","calls":[],"doc":"Default weights used when no config provided."},{"name":"test_load_custom_weights_from_config","line":647,"signature":"(self)","calls":[],"doc":"Custom weights override defaults."},{"name":"test_invalid_config_falls_back_to_defaults","line":663,"signature":"(self)","calls":[],"doc":"Invalid config gracefully falls back to defaults."},{"name":"test_empty_config","line":671,"signature":"(self)","calls":[],"doc":"Empty config uses defaults."},{"name":"test_custom_weights_affect_scoring","line":676,"signature":"(self)","calls":[],"doc":"Custom weights actually affect score calculation."}],"doc":"Test configurable temporal weights."},{"name":"TestScoreAllModules","line":695,"bases":[],"methods":[{"name":"setUp","line":698,"signature":"(self)","calls":[],"doc":"Initialize scorer."},{"name":"test_score_all_modules_sorts_by_relevance","line":702,"signature":"(self)","calls":[],"doc":"Modules are sorted by score descending (highest first)."},{"name":"test_score_all_modules_excludes_zero_scores","line":725,"signature":"(self)","calls":[],"doc":"Modules with zero score are excluded from results."},{"name":"test_score_all_modules_empty_input","line":740,"signature":"(self)","calls":[],"doc":"Empty modules dict returns empty list."}],"doc":"Test scoring and sorting of multiple modules."},{"name":"TestPerformance","line":746,"bases":[],"methods":[{"name":"test_scoring_1000_modules_under_100ms","line":749,"signature":"(self)","calls":[],"doc":"Scoring 1,000 modules completes in <100ms (AC requirement)."},{"name":"test_filtering_10000_files_under_1s","line":785,"signature":"(self)","calls":[],"doc":"Filtering 10,000 files completes in <1 second."}],"doc":"Performance validation tests."},{"name":"TestIntegration","line":809,"bases":[],"methods":[{"name":"test_end_to_end_temporal_query","line":812,"signature":"(self)","calls":[],"doc":"Full workflow from temporal query to scored results."},{"name":"test_integration_with_real_structure","line":859,"signature":"(self)","calls":[],"doc":"Test with realistic PROJECT_INDEX.json structure."}],"doc":"Integration tests with core index structure."}],"imports":["json","os","sys","tempfile","time","unittest","pathlib","typing","scripts"]},"scripts/test_smart_presets.py":{"language":"python","functions":[{"name":"run_all_tests","line":391,"signature":"()","calls":[],"doc":"Run all test suites."}],"classes":[{"name":"TestAutoDetectPreset","line":30,"bases":[],"methods":[{"name":"test_small_preset_boundary","line":33,"signature":"(self)","calls":[],"doc":"Files <100 should return 'small'."},{"name":"test_medium_preset_boundary","line":39,"signature":"(self)","calls":[],"doc":"Files 100-4999 should return 'medium'."},{"name":"test_large_preset_boundary","line":45,"signature":"(self)","calls":[],"doc":"Files 5000+ should return 'large'."}],"doc":"Test auto_detect_preset() function (AC#2, #4)."},{"name":"TestLoadPresetTemplate","line":51,"bases":[],"methods":[{"name":"setUp","line":54,"signature":"(self)","calls":[],"doc":"Create temporary template directory."},{"name":"tearDown","line":60,"signature":"(self)","calls":[],"doc":"Clean up temporary directory."},{"name":"test_load_small_preset","line":65,"signature":"(self, mock_home)","calls":[],"doc":"Load small preset template successfully."},{"name":"test_generated_timestamp_replacement","line":88,"signature":"(self, mock_home)","calls":[],"doc":"_generated field should be replaced with timestamp."},{"name":"test_template_not_found_fallback","line":100,"signature":"(self, mock_home)","calls":[],"doc":"Should gracefully fallback if template missing."},{"name":"test_invalid_json_fallback","line":111,"signature":"(self, mock_home)","calls":[],"doc":"Should gracefully handle invalid JSON."}],"doc":"Test load_preset_template() function (AC#1)."},{"name":"TestDetectPresetFromConfig","line":124,"bases":[],"methods":[{"name":"test_detect_from_metadata","line":127,"signature":"(self)","calls":[],"doc":"Should use _preset metadata field if present."},{"name":"test_fallback_to_threshold_small","line":132,"signature":"(self)","calls":[],"doc":"Should infer 'small' from low threshold."},{"name":"test_fallback_to_threshold_medium","line":140,"signature":"(self)","calls":[],"doc":"Should infer 'medium' from medium threshold."},{"name":"test_fallback_to_threshold_large","line":148,"signature":"(self)","calls":[],"doc":"Should infer 'large' from high threshold."},{"name":"test_default_threshold","line":153,"signature":"(self)","calls":[],"doc":"Should handle missing threshold."}],"doc":"Test detect_preset_from_config() function (AC#4)."},{"name":"TestLoadConfigurationFirstRun","line":160,"bases":[],"methods":[{"name":"setUp","line":163,"signature":"(self)","calls":[],"doc":"Create temporary project directory."},{"name":"tearDown","line":181,"signature":"(self)","calls":[],"doc":"Clean up temporary directory."},{"name":"test_first_run_creates_small_preset","line":187,"signature":"(self, mock_home, mock_git_files)","calls":[],"doc":"First run with <100 files creates small preset."},{"name":"test_first_run_creates_medium_preset","line":200,"signature":"(self, mock_home, mock_git_files)","calls":[],"doc":"First run with 100-4999 files creates medium preset."},{"name":"test_first_run_creates_large_preset","line":213,"signature":"(self, mock_home, mock_git_files)","calls":[],"doc":"First run with 5000+ files creates large preset."}],"doc":"Test load_configuration() on first run (AC#2, #3)."},{"name":"TestLoadConfigurationBoundaryCrossing","line":225,"bases":[],"methods":[{"name":"setUp","line":228,"signature":"(self)","calls":[],"doc":"Create temporary project directory with existing config."},{"name":"tearDown","line":256,"signature":"(self)","calls":[],"doc":"Clean up temporary directory."},{"name":"test_boundary_crossing_user_accepts","line":263,"signature":"(self, mock_input, mock_home, mock_git_files)","calls":[],"doc":"User accepts upgrade when crossing from small to medium."},{"name":"test_boundary_crossing_user_declines","line":277,"signature":"(self, mock_input, mock_home, mock_git_files)","calls":[],"doc":"User declines upgrade when crossing boundary."},{"name":"test_no_prompt_with_sys_argv_flag","line":290,"signature":"(self, mock_home, mock_git_files)","calls":[],"doc":"--no-prompt flag skips interactive prompt."}],"doc":"Test boundary crossing detection and upgrade prompts (AC#4, #5, #6)."},{"name":"TestCommandLineFlags","line":304,"bases":[],"methods":[{"name":"setUp","line":307,"signature":"(self)","calls":[],"doc":"Create temporary project directory."},{"name":"tearDown","line":325,"signature":"(self)","calls":[],"doc":"Clean up temporary directory."},{"name":"test_upgrade_to_flag_forces_preset","line":331,"signature":"(self, mock_home, mock_git_files)","calls":[],"doc":"--upgrade-to=large forces large preset regardless of file count."},{"name":"test_invalid_upgrade_to_flag","line":346,"signature":"(self, mock_home, mock_git_files)","calls":[],"doc":"Invalid --upgrade-to value should be ignored."}],"doc":"Test command-line flags (AC#7, #8)."},{"name":"TestPerformance","line":360,"bases":[],"methods":[{"name":"test_preset_detection_under_5_seconds","line":365,"signature":"(self, mock_home, mock_git_files)","calls":[],"doc":"Preset detection should complete in <5 seconds for 10,000 files."}],"doc":"Test performance requirements (NFR)."}],"imports":["json","os","shutil","sys","tempfile","time","unittest","pathlib","unittest.mock","project_index","index_utils"]},"scripts/test_sub_module_splitting.py":{"language":"python","functions":[{"name":"run_all_tests","line":433,"signature":"()","calls":[],"doc":"Run all test suites."}],"classes":[{"name":"TestDetectFrameworkPatterns","line":34,"bases":[],"methods":[{"name":"setUp","line":37,"signature":"(self)","calls":[],"doc":"Create temporary directory for test projects."},{"name":"tearDown","line":42,"signature":"(self)","calls":[],"doc":"Clean up temporary directory."},{"name":"test_vite_project_detected","line":46,"signature":"(self)","calls":[],"doc":"Vite framework detected when src/ has 3+ characteristic subdirectories."},{"name":"test_vite_minimal_match","line":59,"signature":"(self)","calls":[],"doc":"Vite detected with exactly 3 characteristic directories."},{"name":"test_non_vite_project_generic","line":71,"signature":"(self)","calls":[],"doc":"Non-Vite project returns generic."},{"name":"test_no_src_directory","line":83,"signature":"(self)","calls":[],"doc":"Project without src/ directory returns generic."},{"name":"test_empty_src_directory","line":88,"signature":"(self)","calls":[],"doc":"Empty src/ directory returns generic."}],"doc":"Tests for Vite framework pattern detection (Task 3, AC #3)."},{"name":"TestGenerateSubmoduleName","line":96,"bases":[],"methods":[{"name":"test_second_level_naming","line":99,"signature":"(self)","calls":[],"doc":"Second-level naming: {parent}-{child}."},{"name":"test_third_level_naming","line":104,"signature":"(self)","calls":[],"doc":"Third-level naming: {parent}-{child}-{grandchild}."},{"name":"test_third_level_with_none","line":109,"signature":"(self)","calls":[],"doc":"Third-level with grandchild=None returns second-level."},{"name":"test_naming_with_hyphens","line":114,"signature":"(self)","calls":[],"doc":"Naming works with module names containing hyphens."}],"doc":"Tests for naming convention (Task 2, AC #2)."},{"name":"TestBuildFileToModuleMap","line":120,"bases":[],"methods":[{"name":"test_simple_mapping","line":123,"signature":"(self)","calls":[],"doc":"Correctly maps files to modules."},{"name":"test_empty_modules","line":136,"signature":"(self)","calls":[],"doc":"Empty modules dict returns empty map."},{"name":"test_large_scale_performance","line":141,"signature":"(self)","calls":[],"doc":"Mapping generation completes in <10ms for 10,000 files."}],"doc":"Tests for file-to-module mapping (Task 4, AC #6)."},{"name":"TestSplitModuleRecursive","line":160,"bases":[],"methods":[{"name":"setUp","line":163,"signature":"(self)","calls":[],"doc":"Create temporary directory for test projects."},{"name":"tearDown","line":169,"signature":"(self)","calls":[],"doc":"Clean up temporary directory."},{"name":"create_test_files","line":173,"signature":"(self, structure: Dict[str, int]) -> List[str]","calls":[],"doc":""},{"name":"test_flat_structure_no_splitting","line":199,"signature":"(self)","calls":["create_test_files"],"doc":"Flat structure with no subdirectories should not split."},{"name":"test_organized_structure_splits_to_level_2","line":217,"signature":"(self)","calls":["create_test_files"],"doc":"Organized structure with large subdirectories splits to second level."},{"name":"test_deep_split_to_level_3","line":240,"signature":"(self)","calls":["create_test_files"],"doc":"Deeply nested structure splits to third level."},{"name":"test_depth_limit_respected","line":264,"signature":"(self)","calls":["create_test_files"],"doc":"Recursion stops at max_depth."},{"name":"test_below_threshold_no_split","line":286,"signature":"(self)","calls":["create_test_files"],"doc":"Module below threshold should not split."},{"name":"test_intermediate_files_grouped_to_root","line":306,"signature":"(self)","calls":["create_test_files"],"doc":"Files at intermediate levels grouped into *-root sub-module."}],"doc":"Tests for recursive splitting algorithm (Task 1, AC #1, #4)."},{"name":"TestIntegration","line":328,"bases":[],"methods":[{"name":"setUp","line":331,"signature":"(self)","calls":[],"doc":"Create temporary directory for synthetic project."},{"name":"tearDown","line":336,"signature":"(self)","calls":[],"doc":"Clean up temporary directory."},{"name":"create_synthetic_vite_project","line":340,"signature":"(self)","calls":[],"doc":"Create synthetic Vite project with 400+ files."}],"doc":"Integration tests for end-to-end workflow (Task 8, AC #10)."}],"imports":["json","os","shutil","tempfile","time","unittest","pathlib","typing","project_index","sys"]},"scripts/test_tiered_storage.py":{"language":"python","functions":[{"name":"run_all_tests","line":465,"signature":"()","calls":[],"doc":"Run all tiered storage tests"}],"classes":[{"name":"TestTieredStorageAC1","line":32,"bases":[],"methods":[{"name":"setUp","line":35,"signature":"(self)","calls":[],"doc":"Create temporary test project with mixed tier docs"},{"name":"tearDown","line":59,"signature":"(self)","calls":[],"doc":"Clean up temp directory"},{"name":"test_core_index_contains_only_critical_tier","line":63,"signature":"(self)","calls":[],"doc":"Core index should contain only critical docs by default"},{"name":"test_tier_counts_in_stats","line":92,"signature":"(self)","calls":[],"doc":"Stats should track all tier counts correctly"}],"doc":"AC #1: Core index contains only critical tier by default"},{"name":"TestTieredStorageAC2","line":105,"bases":[],"methods":[{"name":"setUp","line":108,"signature":"(self)","calls":[],"doc":"Create test project with docs organized by module"},{"name":"tearDown","line":128,"signature":"(self)","calls":[],"doc":""},{"name":"test_detail_modules_contain_standard_tier","line":131,"signature":"(self)","calls":[],"doc":"Detail modules should have doc_standard section populated"},{"name":"test_detail_modules_contain_archive_tier","line":147,"signature":"(self)","calls":[],"doc":"Detail modules should have doc_archive section populated"},{"name":"test_docs_organized_by_module","line":163,"signature":"(self)","calls":[],"doc":"Standard/archive docs should be organized by module directory"}],"doc":"AC #2: Detail modules contain standard and archive tiers"},{"name":"TestTieredStorageAC3","line":179,"bases":[],"methods":[{"name":"setUp","line":182,"signature":"(self)","calls":[],"doc":"Create test project with config file"},{"name":"tearDown","line":196,"signature":"(self)","calls":[],"doc":""},{"name":"test_config_include_all_tiers_true","line":199,"signature":"(self)","calls":[],"doc":"When include_all_doc_tiers: true, all tiers should be in core"},{"name":"test_config_include_all_tiers_false_default","line":217,"signature":"(self)","calls":[],"doc":"When include_all_doc_tiers: false (default), only critical in core"},{"name":"test_config_default_behavior_no_config","line":230,"signature":"(self)","calls":[],"doc":"Without config, should default to false (critical only)"}],"doc":"AC #3: Configuration option to include all tiers in core"},{"name":"TestTieredStorageAC4","line":241,"bases":[],"methods":[{"name":"setUp","line":244,"signature":"(self)","calls":[],"doc":"Create test project with tiered docs"},{"name":"tearDown","line":263,"signature":"(self)","calls":[],"doc":""},{"name":"test_critical_docs_loaded_by_default","line":266,"signature":"(self)","calls":[],"doc":"Core index should contain critical docs accessible immediately"},{"name":"test_load_standard_tier_from_module","line":275,"signature":"(self)","calls":[],"doc":"Agent can request standard tier docs from specific module"},{"name":"test_load_archive_tier_from_module","line":284,"signature":"(self)","calls":[],"doc":"Agent can request archive tier docs from specific module"},{"name":"test_load_tier_all_modules","line":293,"signature":"(self)","calls":[],"doc":"Agent can request tier docs from all modules aggregated"}],"doc":"AC #4: Agent loads critical by default, can request other tiers"},{"name":"TestTieredStorageAC5","line":311,"bases":[],"methods":[{"name":"setUp","line":314,"signature":"(self)","calls":[],"doc":"Create doc-heavy test project"},{"name":"tearDown","line":341,"signature":"(self)","calls":[],"doc":""},{"name":"test_compression_ratio_60_to_80_percent","line":344,"signature":"(self)","calls":[],"doc":"Tiered storage should achieve 55-80% compression for doc-heavy projects (adjusted for git metadata)"}],"doc":"AC #5: Doc-heavy project shows 60-80% compression"},{"name":"TestBackwardCompatibility","line":370,"bases":[],"methods":[{"name":"setUp","line":373,"signature":"(self)","calls":[],"doc":""},{"name":"tearDown","line":377,"signature":"(self)","calls":[],"doc":""},{"name":"test_load_module_without_doc_tiers","line":380,"signature":"(self)","calls":[],"doc":"Loader should handle modules without doc_standard/doc_archive gracefully"},{"name":"test_load_doc_tier_empty_modules","line":403,"signature":"(self)","calls":[],"doc":"load_doc_tier should handle modules without tier sections"}],"doc":"Backward compatibility: existing indices work without tiered docs"},{"name":"TestPerformance","line":424,"bases":[],"methods":[{"name":"setUp","line":427,"signature":"(self)","calls":[],"doc":""},{"name":"tearDown","line":431,"signature":"(self)","calls":[],"doc":""},{"name":"test_tier_filtering_performance","line":434,"signature":"(self)","calls":[],"doc":"Tier filtering should complete in <500ms for 1000 file project"}],"doc":"Performance validation: operations complete within target times"}],"imports":["json","os","shutil","tempfile","time","unittest","pathlib","typing","sys","project_index","loader","doc_classifier","sys"]},"scripts/test_vue_options_api.py":{"language":"python","functions":[],"classes":[{"name":"TestVueOptionsAPIExtraction","line":18,"bases":[],"methods":[{"name":"test_extract_methods_shorthand","line":21,"signature":"(self)","calls":[],"doc":"Test extraction of shorthand methods (AC#1)."}],"doc":"Test suite for Options API method extraction."}],"imports":["unittest","sys","pathlib","index_utils","{ ref } from 'vue'","{ ref } from 'vue'"]},"scripts/validate_mcp.py":{"language":"python","functions":[{"name":"get_tool_config_path","line":51,"signature":"(tool: str, os_type: str = \"macos\") -> Path","calls":[],"doc":""},{"name":"detect_os","line":79,"signature":"() -> str","calls":[],"doc":""},{"name":"check_mcp_config_exists","line":95,"signature":"(tool: str) -> Tuple[bool, Optional[Path]]","calls":["detect_os","get_tool_config_path"],"doc":""},{"name":"check_project_index_server_configured","line":113,"signature":"(config_path: Path) -> Tuple[bool, Optional[Dict]]","calls":[],"doc":""},{"name":"test_mcp_server_connection","line":135,"signature":"(tool: str) -> Tuple[int, str, Optional[float]]","calls":["check_mcp_config_exists","check_project_index_server_configured"],"doc":""},{"name":"print_troubleshooting_guidance","line":215,"signature":"(tool: str, exit_code: int)","calls":[],"doc":""},{"name":"detect_all_tools","line":240,"signature":"() -> List[str]","calls":["check_mcp_config_exists"],"doc":""},{"name":"main","line":256,"signature":"()","calls":[],"doc":"Main validation entry point."}],"classes":[],"imports":["sys","json","time","argparse","pathlib","typing","mcp.client","loader","platform"]}},"call_graph_local":[["run_performance_benchmark","clone_or_use_project"],["run_performance_benchmark","measure_full_generation"],["run_performance_benchmark","measure_incremental_update"],["run_performance_benchmark","measure_memory_usage"],["classify_documentation","classify_documentation"],["extract_git_metadata","_extract_from_git"],["extract_git_metadata","extract_git_metadata"],["_extract_from_git","_calculate_recency_days"],["_extract_from_git","_extract_lines_changed"],["_extract_from_git","_extract_pr_number"],["_extract_from_git","_fallback_to_mtime"],["_extract_pr_number","_extract_pr_number"],["_fallback_to_mtime","_calculate_recency_days"],["get_last_interactive_size","find_project_root"],["parse_index_flag","get_last_interactive_size"],["should_regenerate_index","calculate_files_hash"],["generate_index_at_size","calculate_files_hash"],["build_reverse_call_graph","build_reverse_call_graph"],["analyze_impact","analyze_impact"],["analyze_impact","build_reverse_call_graph"],["map_functions_to_paths","map_functions_to_paths"],["format_impact_report","analyze_impact"],["format_impact_report","map_functions_to_paths"],["identify_affected_modules","build_dependency_graph"],["validate_index_integrity","compute_module_hash"],["regenerate_affected_modules","compute_module_hash"],["incremental_update","detect_changed_files"],["incremental_update","identify_affected_modules"],["incremental_update","regenerate_affected_modules"],["incremental_update","validate_index_integrity"],["extract_python_signatures","extract_function_calls_python"],["extract_javascript_signatures","extract_function_calls_javascript"],["extract_shell_signatures","extract_function_calls_shell"],["extract_vue_signatures","extract_javascript_signatures"],["extract_vue_signatures","extract_options_api_methods"],["extract_options_api_methods","extract_function_calls_javascript"],["load_gitignore_patterns","parse_gitignore"],["should_index_file","load_gitignore_patterns"],["should_index_file","matches_gitignore_pattern"],["load_detail_module","load_detail_module"],["find_module_for_file","find_module_for_file"],["load_detail_by_path","find_module_for_file"],["load_detail_by_path","load_detail_by_path"],["load_detail_by_path","load_detail_module"],["load_multiple_modules","load_detail_module"],["load_multiple_modules","load_multiple_modules"],["load_doc_tier","load_detail_module"],["load_doc_tier","load_doc_tier"],["detect_mcp_tools","_is_claude_code_environment"],["detect_mcp_tools","detect_mcp_tools"],["get_cached_capabilities","detect_mcp_tools"],["get_cached_capabilities","get_cached_capabilities"],["reset_detection_cache","detect_mcp_tools"],["reset_detection_cache","reset_detection_cache"],["read_version_file","read_version_file"],["compare_versions","compare_versions"],["log_update_check","log_update_check"],["check_version_compatibility","check_version_compatibility"],["check_version_compatibility","read_version_file"],["check_for_updates","check_for_updates"],["check_for_updates","compare_versions"],["check_for_updates","log_update_check"],["check_for_updates","read_version_file"],["load_configuration","_check_cli_flags"],["load_configuration","auto_detect_preset"],["load_configuration","detect_preset_from_config"],["load_configuration","load_preset_template"],["load_configuration","main"],["generate_split_index","apply_framework_preset"],["generate_split_index","build_file_to_module_map"],["generate_split_index","create_module_references"],["generate_split_index","detect_framework_patterns"],["generate_split_index","detect_large_modules"],["generate_split_index","generate_detail_modules"],["generate_split_index","generate_tree_structure"],["generate_split_index","generate_warnings"],["generate_split_index","get_submodule_config"],["generate_split_index","organize_into_modules"],["generate_split_index","split_module_recursive"],["build_index","generate_tree_structure"],["detect_large_modules","analyze_directory_structure"],["detect_large_modules","get_submodule_config"],["generate_submodule_name","generate_submodule_name"],["split_module_recursive","generate_submodule_name"],["split_module_recursive","get_submodule_config"],["split_module_recursive","split_module_recursive"],["migrate_to_split_format","create_backup"],["migrate_to_split_format","detect_index_format"],["migrate_to_split_format","extract_legacy_data"],["migrate_to_split_format","generate_split_index"],["migrate_to_split_format","load_configuration"],["migrate_to_split_format","rollback_migration"],["migrate_to_split_format","validate_migration_integrity"],["generate_warnings","get_submodule_config"],["analyze_module_structure","apply_framework_preset"],["analyze_module_structure","detect_framework_patterns"],["analyze_module_structure","detect_large_modules"],["analyze_module_structure","get_submodule_config"],["analyze_module_structure","organize_into_modules"],["analyze_module_structure","split_module_recursive"],["create_default_config","apply_framework_preset"],["create_default_config","detect_framework_patterns"],["filter_files_by_recency","filter_files_by_recency"],["run_test","create_synthetic_project"],["check_mcp_config_exists","detect_os"],["check_mcp_config_exists","get_tool_config_path"],["test_mcp_server_connection","check_mcp_config_exists"],["test_mcp_server_connection","check_project_index_server_configured"],["detect_all_tools","check_mcp_config_exists"]],"doc_standard":{},"doc_archive":{}}